<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="generator" content="Hugo 0.26" />

  <title>一次奇怪的firefox故障，还有，一个普通市民是怎么修电脑的 &middot; 贺叶霜的树：III</title>

  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.2/pure-min.css">

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.2/grids-responsive-old-ie-min.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.2/grids-responsive-min.css">
  <!--<![endif]-->

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://heyeshuang.github.io/blog/css/side-menu-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://heyeshuang.github.io/blog/css/side-menu.css">
  <!--<![endif]-->

  <link rel="stylesheet" href="https://heyeshuang.github.io/blog/css/blackburn.css">

  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

  
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css">

  
  

  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/styles/atom-one-light.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  

  <link rel="shortcut icon" href="https://heyeshuang.github.io/blog/img/favicon.ico" type="image/x-icon" />

  
  

</head>


<body>
<div id="layout">

  
<a href="#menu" id="menuLink" class="menu-link">
  
  <span></span>
</a>
<div id="menu">

  
  <a class="pure-menu-heading brand" href="/">mark III</a>


  <div class="pure-menu">
    <ul class="pure-menu-list">
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/blog/"><i class='fa fa-home fa-fw'></i>Home</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/blog/post/"><i class='fa fa-list fa-fw'></i>Posts</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/blog/about/"><i class='fa fa-user fa-fw'></i>About</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/blog/sentences/"><i class='fa fa-video-camera fa-fw'></i>Theatre</a>
      
        </li>
      
    </ul>
  </div>

  <div class="pure-menu social">
  <ul class="pure-menu-list">

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://twitter.com/heyeshuang" target="_blank"><i class="fa fa-twitter-square fa-fw"></i>Twitter</a>
    </li>
    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://plus.google.com/+%e8%b4%ba%e5%8f%b6%e9%9c%9cHeYSH" target="_blank"><i class="fa fa-google-plus-square fa-fw"></i>Google+</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://github.com/heyeshuang" target="_blank"><i class="fa fa-github-square fa-fw"></i>GitHub</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

  </ul>
</div>


  <div>
  <div class="small-print">
    <small>&copy; <a href="https://github.com/heyeshuang">He Yeshuang</a></small>
  </div>
  <div class="small-print">
    <small>Built with&nbsp;<a href="https://gohugo.io/" target="_blank">Hugo</a></small>
    <small>Theme&nbsp;<a href="https://github.com/yoshiharuyamashita/blackburn" target="_blank">Blackburn</a></small>
  </div>
</div>

</div>


  <div id="main">


<div class="header">
  <h1>一次奇怪的firefox故障，还有，一个普通市民是怎么修电脑的</h1>
  <h2></h2>
</div>
<div class="content">

  <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>2013 Sep 08, 15:22</time>
  </div>

  

  

  

</div>

  

<p>有一天，我的firefox突然挂掉了。症状是chinese language pack无效，而且pentadactyl和ABP等一部分addons全都挂掉了——但是disable-enable之后又可以用，而且另外一些Addons居然好好的……</p>

<p>（中略）</p>

<h2 id="解决">解决：</h2>

<p>用df检查磁盘空间，然后把<code>/</code>目录最大的文件夹干掉。顺便推荐一个软件：<code>xdiskusage</code></p>

<hr />

<h2 id="没用的部分">没用的部分：</h2>

<ol>
<li>重新安装firefox（因为吃过好几次<code>yaourt</code>的亏）</li>
<li>无效。上Google，查资料，关键词”firefox 23 addon enable|disable”之类</li>
<li>尝试各种方法。无效</li>
<li>备份<code>~/.mozilla/firefox/&lt;乱码&gt;.default</code>和<code>profile.ini</code></li>
<li>（愤怒地）reset profile</li>
<li>问题没有解决</li>
<li>怀疑为权限问题，观察权限无异常。曾想递归把整个profile目录改为777<del>（beast mode）</del>，然后（用优秀的涵养）忍住了</li>
<li>干掉整个<code>~/.mozilla/firefox/</code>目录</li>
<li>出现欢迎界面（英文）</li>
<li>高兴地关闭Firefox，然后发现无法再次打开</li>
<li>尝试在terminal中打开，没有输出可用信息。顺便推荐<code>tilda</code></li>
<li>观察<code>\home</code>目录，剩余空间2.0G<br />
&lt;–最接近真相的位置，谁叫文件管理器（推荐<code>spaceFM</code>）看磁盘空间这么容易呢</li>

<li><p>到备份的<code>&lt;乱码&gt;.default</code>文件夹乱翻，找到一堆log，其中<code>extensions.log</code>有一段是这样的：</p>

<p>2013-09-07 14:04:58 ERROR addons.xpi-utils: SQL error 13: database
or disk is full at resource://gre/modules/XPIProvider.jsm -&gt;
resource://gre/modules/XPIProviderUtils.js:204<br />
2013-09-07 14:04:58 ERROR addons.xpi: Error processing file changes:
[Exception… “Component returned failure code: 0x80004005
(NS_ERROR_FAILURE) [mozIStorageStatement.execute]” nsresult:
“0x80004005 (NS_ERROR_FAILURE)” location: “JS frame ::
resource://gre/modules/XPIProvider.jsm -&gt;
resource://gre/modules/XPIProviderUtils.js ::
XPIDB_rollbackTransaction :: line 457” data: no] at
resource://gre/modules/XPIProvider.jsm -&gt;
resource://gre/modules/XPIProviderUtils.js:457<br />
2013-09-07 14:04:58 ERROR addons.xpi: Error during startup file
checks, rolling back any database changes: [Exception… “Component
returned failure code: 0x80004005 (NS_ERROR_FAILURE)
[mozIStorageStatement.execute]” nsresult: “0x80004005
(NS_ERROR_FAILURE)” location: “JS frame ::
resource://gre/modules/XPIProvider.jsm -&gt;
resource://gre/modules/XPIProviderUtils.js ::
XPIDB_commitTransaction :: line 442” data: no] at
resource://gre/modules/XPIProvider.jsm -&gt;
resource://gre/modules/XPIProviderUtils.js:442<br />
2013-09-07 14:04:58 ERROR addons.manager: Exception calling provider
startup: [Exception… “Component returned failure code: 0x80004005
(NS_ERROR_FAILURE) [mozIStorageStatement.execute]” nsresult:
“0x80004005 (NS_ERROR_FAILURE)” location: “JS frame ::
resource://gre/modules/XPIProvider.jsm -&gt;
resource://gre/modules/XPIProviderUtils.js ::
XPIDB_rollbackTransaction :: line 457” data: no] at
resource://gre/modules/XPIProvider.jsm -&gt;
resource://gre/modules/XPIProviderUtils.js:457</p></li>

<li><p>新关键词GET，查询结果乱七八糟。</p></li>

<li><p>怀疑sqlite有上限：<strong>database <del>or disk</del> is full</strong></p></li>

<li><p>对于（不会SQL）的一般小市民，再次查询，未果</p></li>

<li><p>注意到脑内自动添加的删除线，删除删除线</p></li>

<li><p>跳至解决部分</p></li>
</ol>

<h2 id="总结">总结：</h2>

<ul>
<li>用英文描述问题</li>
<li>上Google</li>
<li>查 log</li>
<li>Google that log</li>
<li>意识到以上步骤其实很有可能没用</li>
<li>静静等待灵感的降临</li>
<li><em>(bonus)</em> 不要安装 Matlab，特别是在<code>\</code>文件夹只有30G的情况下</li>
</ul>


  
<div class="prev-next-post pure-g">
  <div class="pure-u-1-24" style="text-align: left;">
    
    <a href="https://heyeshuang.github.io/blog/2013/08/23/fcitx%E7%9A%84%E5%90%84%E7%A7%8D%E5%B0%8F%E5%8A%9F%E8%83%BD/"><i class="fa fa-chevron-left"></i></a>
    
  </div>
  <div class="pure-u-10-24">
    
    <nav class="prev">
      <a href="https://heyeshuang.github.io/blog/2013/08/23/fcitx%E7%9A%84%E5%90%84%E7%A7%8D%E5%B0%8F%E5%8A%9F%E8%83%BD/">fcitx的各种小功能</a>
    </nav>
    
  </div>
  <div class="pure-u-2-24">
    &nbsp;
  </div>
  <div class="pure-u-10-24">
    
    <nav class="next">
      <a href="https://heyeshuang.github.io/blog/2013/10/04/244/">木漏れ日</a>
    </nav>
    
  </div>
  <div class="pure-u-1-24" style="text-align: right;">
    
    <a href="https://heyeshuang.github.io/blog/2013/10/04/244/"><i class="fa fa-chevron-right"></i></a>
    
  </div>
</div>



  
<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'HeYSH';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


</div>

</div>
</div>
<script src="https://heyeshuang.github.io/blog/js/ui.js"></script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-40522664-1', 'auto');
  ga('send', 'pageview');

</script>



</body>
</html>

