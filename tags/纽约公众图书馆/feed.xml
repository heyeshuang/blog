<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>纽约公众图书馆 on 林中阴影</title><link>https://blog.heysh.xyz/tags/%E7%BA%BD%E7%BA%A6%E5%85%AC%E4%BC%97%E5%9B%BE%E4%B9%A6%E9%A6%86/</link><description>Recent content in 纽约公众图书馆 on 林中阴影</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>&amp;copy;贺叶霜，&lt;a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh">CC BY-SA&lt;/a></copyright><lastBuildDate>Sat, 24 Feb 2018 00:03:59 +0800</lastBuildDate><atom:link href="https://blog.heysh.xyz/tags/%E7%BA%BD%E7%BA%A6%E5%85%AC%E4%BC%97%E5%9B%BE%E4%B9%A6%E9%A6%86/feed.xml" rel="self" type="application/rss+xml"/><item><title>这次是纽约公共图书馆……而且居然还有第三部分？</title><link>https://blog.heysh.xyz/2018/02/24/nypl3/</link><pubDate>Sat, 24 Feb 2018 00:03:59 +0800</pubDate><guid>https://blog.heysh.xyz/2018/02/24/nypl3/</guid><description>&lt;blockquote>
&lt;p>在图书馆的第三天，到了废纸回收环节&lt;/p>
&lt;/blockquote>
&lt;p>之前下到了一叠厚厚的&lt;a href="https://digitalcollections.nypl.org/collections/trait-des-arbres-et-arbustes-que-lon-cultive-en-france-en-pleine-terre#/?tab=about">图集&lt;/a>，可是要真正用起来，还需要一点点简单的处理，比如说，沿着边线把图案剪下来：
&lt;figure>&lt;img src="https://blog.heysh.xyz/nypl/before.jpg"/>&lt;figcaption>
&lt;h4>加工前&lt;/h4>
&lt;/figcaption>
&lt;/figure>
&lt;figure>&lt;img src="https://blog.heysh.xyz/nypl/after.png"/>&lt;figcaption>
&lt;h4>加工后&lt;/h4>
&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>通过一些简单的图形学处理就可以完成这项任务，当然，对于不懂画画的乡巴佬（我），要读好多&lt;code>skimage&lt;/code>的教程才能搞定——总之，我把折腾的结果传到了&lt;a href="https://github.com/heyeshuang/Trait-des-arbres-et-arbustes-que-l-on-cultive-en-France-en-pleine-terre/">github&lt;/a>上，包括：&lt;/p>
&lt;ul>
&lt;li>如何在&lt;code>jupyter notebook&lt;/code>里&lt;a href="https://github.com/heyeshuang/Trait-des-arbres-et-arbustes-que-l-on-cultive-en-France-en-pleine-terre/blob/master/sobel.ipynb">剪好一张图&lt;/a>&lt;/li>
&lt;li>然后改成&lt;a href="https://github.com/heyeshuang/Trait-des-arbres-et-arbustes-que-l-on-cultive-en-France-en-pleine-terre/blob/master/sobel-batch.ipynb">批量修改的版本&lt;/a>&lt;/li>
&lt;li>以及&lt;a href="https://github.com/heyeshuang/Trait-des-arbres-et-arbustes-que-l-on-cultive-en-France-en-pleine-terre/tree/master/batch/France">原图&lt;/a>和修改之后的&lt;a href="https://github.com/heyeshuang/Trait-des-arbres-et-arbustes-que-l-on-cultive-en-France-en-pleine-terre/tree/master/france">结果&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>欢迎下载、使用、或者拿去卖钱，反正是公有领域。&lt;/p></description></item><item><title>这次是纽约公共图书馆……的第二天！</title><link>https://blog.heysh.xyz/2018/02/22/nypl2/</link><pubDate>Thu, 22 Feb 2018 16:03:59 +0800</pubDate><guid>https://blog.heysh.xyz/2018/02/22/nypl2/</guid><description>&lt;blockquote>
&lt;p>（精神上）坐在图书馆里，我想：能不能把这些旧书借走呢？&lt;/p>
&lt;/blockquote>
&lt;p>当然是可以的！贴心的图书管理员已经提供了API接口：&lt;a href="http://api.repo.nypl.org/">http://api.repo.nypl.org/&lt;/a>，申请账号之后，就可以做各种各样的事了~&lt;/p>
&lt;p>当然，如果只是想下片的话，用&lt;a href="https://github.com/NYPL-publicdomain/api-client">digital-collections&lt;/a>可能会更简单一些：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">digital-collections -t API_TOKEN -s UUID -o OUTPUT.json
&lt;/code>&lt;/pre>&lt;/div>&lt;p>其中，&lt;code>API_TOKEN&lt;/code>在申请账号以后会得到一个；在你想要下载的专辑（&lt;a href="https://digitalcollections.nypl.org/collections/a-curious-herbal-containing-five-hundred-cuts-of-the-most-useful-plants-which#/?tab=about&amp;amp;scroll=50">比如这个&lt;/a>）下面，可以看到&lt;code>UUID&lt;/code>；运行这条命令之后，图片的信息列表会保存在&lt;code>OUTPUT.json&lt;/code>里。&lt;/p>
&lt;figure>&lt;img src="https://blog.heysh.xyz/nypl/clip.png"/>&lt;figcaption>
&lt;h4>对，就是那个Universal Unique Identifier&lt;/h4>
&lt;/figcaption>
&lt;/figure>
&lt;p>之后，获得的json文件大概像是这样：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-json" data-lang="json">{
&lt;span style="color:#309;font-weight:bold">&amp;#34;uuid&amp;#34;&lt;/span>: &lt;span style="color:#c30">&amp;#34;510d47dd-c1f5-a3d9-e040-e00a18064a99&amp;#34;&lt;/span>,
&lt;span style="color:#309;font-weight:bold">&amp;#34;imageLinks&amp;#34;&lt;/span>: {
&lt;span style="color:#309;font-weight:bold">&amp;#34;imageLink&amp;#34;&lt;/span>: [
&lt;span style="color:#c30">&amp;#34;http://images.nypl.org/index.php?id=1125721&amp;amp;t=w&amp;amp;download=1&amp;amp;suffix=510d47dd-c1f5-a3d9-e040-e00a18064a99.001&amp;#34;&lt;/span>,
&lt;span style="color:#c30">&amp;#34;http://images.nypl.org/index.php?id=1125721&amp;amp;t=r&amp;amp;download=1&amp;amp;suffix=510d47dd-c1f5-a3d9-e040-e00a18064a99.001&amp;#34;&lt;/span>,
&lt;span style="color:#c30">&amp;#34;http://images.nypl.org/index.php?id=1125721&amp;amp;t=t&amp;amp;download=1&amp;amp;suffix=510d47dd-c1f5-a3d9-e040-e00a18064a99.001&amp;#34;&lt;/span>,
&lt;span style="color:#c30">&amp;#34;http://images.nypl.org/index.php?id=1125721&amp;amp;t=b&amp;amp;download=1&amp;amp;suffix=510d47dd-c1f5-a3d9-e040-e00a18064a99.001&amp;#34;&lt;/span>,
&lt;span style="color:#c30">&amp;#34;http://images.nypl.org/index.php?id=1125721&amp;amp;t=f&amp;amp;download=1&amp;amp;suffix=510d47dd-c1f5-a3d9-e040-e00a18064a99.001&amp;#34;&lt;/span>
]
},
&lt;span style="color:#309;font-weight:bold">&amp;#34;apiUri&amp;#34;&lt;/span>: &lt;span style="color:#c30">&amp;#34;http://api.repo.nypl.org/api/v1/items/mods/510d47dd-c1f5-a3d9-e040-e00a18064a99&amp;#34;&lt;/span>,
&lt;span style="color:#309;font-weight:bold">&amp;#34;typeOfResource&amp;#34;&lt;/span>: &lt;span style="color:#c30">&amp;#34;still image&amp;#34;&lt;/span>,
&lt;span style="color:#309;font-weight:bold">&amp;#34;imageID&amp;#34;&lt;/span>: &lt;span style="color:#c30">&amp;#34;1125721&amp;#34;&lt;/span>,
&lt;span style="color:#309;font-weight:bold">&amp;#34;sortString&amp;#34;&lt;/span>: &lt;span style="color:#c30">&amp;#34;0000000001|0000000002|0000000001&amp;#34;&lt;/span>,
&lt;span style="color:#309;font-weight:bold">&amp;#34;itemLink&amp;#34;&lt;/span>: &lt;span style="color:#c30">&amp;#34;http://digitalcollections.nypl.org/items/510d47dd-c1f5-a3d9-e040-e00a18064a99&amp;#34;&lt;/span>,
&lt;span style="color:#309;font-weight:bold">&amp;#34;highResLink&amp;#34;&lt;/span>: &lt;span style="color:#c30">&amp;#34;http://link.nypl.org/7nC9VyT_TJWvGX9_H0mYBQ8&amp;#34;&lt;/span>,
&lt;span style="color:#309;font-weight:bold">&amp;#34;title&amp;#34;&lt;/span>: &lt;span style="color:#c30">&amp;#34;Dandelion.&amp;#34;&lt;/span>,
&lt;span style="color:#309;font-weight:bold">&amp;#34;dateDigitized&amp;#34;&lt;/span>: &lt;span style="color:#c30">&amp;#34;2016-08-04T04:53:12Z&amp;#34;&lt;/span>,
&lt;span style="color:#309;font-weight:bold">&amp;#34;rightsStatement&amp;#34;&lt;/span>: &lt;span style="color:#c30">&amp;#34;The New York Public Library believes that this item is in the public domain under the laws of the United States, but did not make a determination as to its copyright status under the copyright laws of other countries. This item may not be in the public domain under the laws of other countries. Though not required, if you want to credit us as the source, please use the following statement, \&amp;#34;From The New York Public Library,\&amp;#34; and provide a link back to the item on our Digital Collections site. Doing so helps us track how our collection is used and helps justify freely releasing even more content in the future.&amp;#34;&lt;/span>,
&lt;span style="color:#309;font-weight:bold">&amp;#34;rightsStatementURI&amp;#34;&lt;/span>: &lt;span style="color:#c30">&amp;#34;http://rightsstatements.org/vocab/NoC-US/1.0/&amp;#34;&lt;/span>
}
&lt;/code>&lt;/pre>&lt;/div>&lt;p>之后，只要下载&lt;code>imageLink&lt;/code>就好了。我用了一个简单的python脚本来做这件事。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-python" data-lang="python">&lt;span style="color:#09f;font-style:italic"># 注意：这玩意没有经过测试，可能会爆炸&lt;/span>
&lt;span style="color:#09f;font-style:italic"># 啊对了，而且是python3.6&lt;/span>
&lt;span style="color:#069;font-weight:bold">import&lt;/span> &lt;span style="color:#0cf;font-weight:bold">urllib.request&lt;/span> &lt;span style="color:#069;font-weight:bold">as&lt;/span> &lt;span style="color:#0cf;font-weight:bold">ur&lt;/span>
&lt;span style="color:#069;font-weight:bold">import&lt;/span> &lt;span style="color:#0cf;font-weight:bold">json&lt;/span>
&lt;span style="color:#069;font-weight:bold">import&lt;/span> &lt;span style="color:#0cf;font-weight:bold">os&lt;/span>
dir_name&lt;span style="color:#555">=&lt;/span>&lt;span style="color:#c30">&amp;#34;Himalayan_plants&amp;#34;&lt;/span> &lt;span style="color:#09f;font-style:italic">#可能要改这里……&lt;/span>
os&lt;span style="color:#555">.&lt;/span>mkdir(dir_name)
&lt;span style="color:#069;font-weight:bold">with&lt;/span> &lt;span style="color:#366">open&lt;/span>(&lt;span style="color:#c30">&amp;#34;OUTPUT.json&amp;#34;&lt;/span>,&lt;span style="color:#c30">&amp;#34;r&amp;#34;&lt;/span>) &lt;span style="color:#069;font-weight:bold">as&lt;/span> source: &lt;span style="color:#09f;font-style:italic">#……还有这里&lt;/span>
source_dict&lt;span style="color:#555">=&lt;/span>json&lt;span style="color:#555">.&lt;/span>load(source)
&lt;span style="color:#069;font-weight:bold">for&lt;/span> _i,_s &lt;span style="color:#000;font-weight:bold">in&lt;/span> &lt;span style="color:#366">enumerate&lt;/span>(source_dict):
file_name&lt;span style="color:#555">=&lt;/span>dir_name&lt;span style="color:#555">+&lt;/span>&lt;span style="color:#c30">&amp;#34;/&amp;#34;&lt;/span>&lt;span style="color:#555">+&lt;/span>&lt;span style="color:#366">str&lt;/span>(_i)&lt;span style="color:#555">+&lt;/span>&lt;span style="color:#c30">&amp;#34;.jpg&amp;#34;&lt;/span>
&lt;span style="color:#069;font-weight:bold">if&lt;/span> os&lt;span style="color:#555">.&lt;/span>path&lt;span style="color:#555">.&lt;/span>exists(file_name)&lt;span style="color:#555">==&lt;/span>&lt;span style="color:#069;font-weight:bold">False&lt;/span>:
&lt;span style="color:#069;font-weight:bold">try&lt;/span>:
ur&lt;span style="color:#555">.&lt;/span>urlretrieve(_s[&lt;span style="color:#c30">&amp;#34;imageLinks&amp;#34;&lt;/span>][&lt;span style="color:#c30">&amp;#34;imageLink&amp;#34;&lt;/span>][&lt;span style="color:#f60">0&lt;/span>],file_name)
&lt;span style="color:#069;font-weight:bold">except&lt;/span> &lt;span style="color:#c00;font-weight:bold">Exception&lt;/span> &lt;span style="color:#069;font-weight:bold">as&lt;/span> e:
&lt;span style="color:#366">print&lt;/span>(_i)
&lt;span style="color:#366">print&lt;/span>(&lt;span style="color:#366">str&lt;/span>(e))
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>这次是纽约公共图书馆……</title><link>https://blog.heysh.xyz/2018/02/21/nypl/</link><pubDate>Wed, 21 Feb 2018 22:03:59 +0800</pubDate><guid>https://blog.heysh.xyz/2018/02/21/nypl/</guid><description>&lt;blockquote>
&lt;p>是的，我&lt;a href="https://blog.heysh.xyz/2017/09/09/2017-09-03-jour-to-lib/">又&lt;/a>去图书馆了，当然这次和戒网瘾没有什么关系。&lt;/p>
&lt;/blockquote>
&lt;p>纽约公共图书馆建立于1895年，馆藏里有大量古老的资料，古老到超出了版权法的管理范围，进入了&lt;a href="https://en.wikipedia.org/wiki/Public_domain">公有领域&lt;/a>。于是，勤奋的图书管理员们把它们&lt;a href="https://www.nypl.org/blog/2016/01/05/share-public-domain-collections">数字化&lt;/a>，送给了互联网。&lt;/p>
&lt;p>所以，在春节假期，坐在电脑前面，我也可以来一次纽约公共图书馆了——而且是一百年前的！&lt;/p>
&lt;p>&lt;a href="https://digitalcollections.nypl.org/">这里&lt;/a>是数字图书馆的首页。如果是一位上世纪的通才，通晓法文、英文拉丁文和其他鸟语，他一定会感觉像是回到了家里一样；当然，即使像我这样的乡巴佬，看一看泛黄的插画，或许也能得到一些乐趣，比如说：&lt;/p>
&lt;h3 id="看看喜马拉雅山上都长些什么httpsdigitalcollectionsnyplorgcollectionsnature-illustrated-flowers-plants-and-trees-1550-1900tabnavigationroots11c51cb7e0-c6ba-012f-206d-3c075448cc4b">&lt;a href="https://digitalcollections.nypl.org/collections/nature-illustrated-flowers-plants-and-trees-1550-1900#/?tab=navigation&amp;amp;roots=11:c51cb7e0-c6ba-012f-206d-3c075448cc4b">看看喜马拉雅山上都长些什么&lt;/a>&lt;/h3>
&lt;figure>&lt;img src="https://blog.heysh.xyz/nypl/nypl.digitalcollections.510d47dc-508a-a3d9-e040-e00a18064a99.001.w.jpg"/>&lt;figcaption>
&lt;h4>嗯，是杂草&lt;/h4>
&lt;/figcaption>
&lt;/figure>
&lt;h3 id="学习下最新的流行风尚httpsdigitalcollectionsnyplorgcollectionsnewest-styles-for-mentababout">&lt;a href="https://digitalcollections.nypl.org/collections/newest-styles-for-men#/?tab=about">学习下最新的流行风尚&lt;/a>&lt;/h3>
&lt;figure>&lt;img src="https://blog.heysh.xyz/nypl/nypl.digitalcollections.510d47dd-fea2-a3d9-e040-e00a18064a99.001.w.jpg"/>&lt;figcaption>
&lt;h4>唔哦，好男人&lt;/h4>
&lt;/figcaption>
&lt;/figure>
&lt;h3 id="或者来辆新车httpsdigitalcollectionsnyplorgcollectionsalbum-of-illustrations-of-imperial-royal-state-carriages-together-with-othertababout">&lt;a href="https://digitalcollections.nypl.org/collections/album-of-illustrations-of-imperial-royal-state-carriages-together-with-other#/?tab=about">或者来辆新车？&lt;/a>&lt;/h3>
&lt;figure>&lt;img src="https://blog.heysh.xyz/nypl/nypl.digitalcollections.510d47dd-fd6c-a3d9-e040-e00a18064a99.001.w.jpg"/>&lt;figcaption>
&lt;h4>如果从这时候就开始摇号的话……&lt;/h4>
&lt;/figcaption>
&lt;/figure>
&lt;p>当然，最重要的是，这些资料都是免费的，没有任何版权问题。如果你需要一张可爱的小画儿，这里可能可以提供一点点灵感——或者直接复制也可以，没有（活）人会来找你麻烦的！&lt;/p></description></item></channel></rss>