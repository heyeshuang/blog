<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Virmach on 林中阴影</title><link>https://blog.heysh.xyz/tags/virmach/</link><description>Recent content in Virmach on 林中阴影</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>&amp;copy;贺叶霜，&lt;a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh">CC BY-SA&lt;/a></copyright><lastBuildDate>Sat, 25 Nov 2017 12:35:54 +0800</lastBuildDate><atom:link href="https://blog.heysh.xyz/tags/virmach/feed.xml" rel="self" type="application/rss+xml"/><item><title>VPS初始化checklist</title><link>https://blog.heysh.xyz/2017/11/25/2017-11-25-virmach-init/</link><pubDate>Sat, 25 Nov 2017 12:35:54 +0800</pubDate><guid>https://blog.heysh.xyz/2017/11/25/2017-11-25-virmach-init/</guid><description>&lt;p>仅供存档。另外，virmach黑五大减价了，KVM主机5.6$一年美滋滋。&lt;/p>
&lt;p>这是我的邀请链接：&lt;a href="https://billing.virmach.com/aff.php?aff=3032">https://billing.virmach.com/aff.php?aff=3032&lt;/a>，优惠码是&lt;code>2017BFSAVE20&lt;/code>。&lt;/p>
&lt;h2 id="新建用户">新建用户&lt;/h2>
&lt;p>感谢&lt;a href="https://blog.roadofgrowth.com/2015/04/28/e6-96-b0-e8-b4-advps-e5-88-9d-e5-a7-8b-e5-8c-96-e5-ae-89-e5-85-a8-e9-85-8d-e7-bd-ae/">https://blog.roadofgrowth.com/2015/04/28/e6-96-b0-e8-b4-advps-e5-88-9d-e5-a7-8b-e5-8c-96-e5-ae-89-e5-85-a8-e9-85-8d-e7-bd-ae/&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>adduser hh
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>gpasswd -a hh sudo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="添加ssh-key验证并禁用root用户ssh远程登录">添加SSH-KEY验证并禁用root用户SSH远程登录&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>su - hh
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>mkdir .ssh
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>chmod 700 .ssh
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>vi .ssh/authorized_keys
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>在这里粘贴你的公钥。什么？noVNC无法粘贴？我写了篇&lt;a href="https://blog.heysh.xyz/2019/09/22/klipper-autotype/">博文&lt;/a>来解决这个。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>#vi /etc/ssh/sshd_config
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>PermitRootLogin no
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>PasswordAuthentication no
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Port 22222
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sudo systemctl restart ssh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="安装配置防火墙-ufw">安装配置防火墙 (ufw)&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>sudo apt-get update&amp;amp;&amp;amp;sudo apt-get upgrade
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt-get install ufw
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo ufw allow 22222 #允许SSH
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo ufw enable
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="安装vim">安装vim&lt;/h2>
&lt;h2 id="安装shadowsocks-libev">安装shadowsocks-libev&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>sudo sh -c &amp;#39;printf &amp;#34;deb http://httpredir.debian.org/debian jessie-backports main&amp;#34; &amp;gt; /etc/apt/sources.list.d/jessie-backports.list&amp;#39;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt update
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo apt -t jessie-backports install shadowsocks-libev
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo vim /etc/shadowsocks-libev/config.json
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo ufw allow &amp;lt;PORT&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo systemctl start shadowsocks-libev
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo systemctl enable shadowsocks-libev
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="安装4x内核">安装4.x内核&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>sudo apt-get install -t jessie-backports linux-image-amd64
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sudo update-grub
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="启用bbr">启用BBR&lt;/h2>
&lt;p>&lt;a href="https://github.com/iMeiji/shadowsocks_install/wiki/%E5%BC%80%E5%90%AFTCP-BBR%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95#%E5%BC%80%E5%90%AFbbr">https://github.com/iMeiji/shadowsocks_install/wiki/%E5%BC%80%E5%90%AFTCP-BBR%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95#%E5%BC%80%E5%90%AFbbr&lt;/a>&lt;/p></description></item></channel></rss>