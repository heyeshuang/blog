<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>折腾 on 林中阴影</title><link>https://blog.heysh.xyz/categories/%E6%8A%98%E8%85%BE/</link><description>Recent content in 折腾 on 林中阴影</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>&amp;copy;贺叶霜，&lt;a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh">CC BY-SA&lt;/a></copyright><lastBuildDate>Tue, 20 Jul 2021 17:03:31 +0800</lastBuildDate><atom:link href="https://blog.heysh.xyz/categories/%E6%8A%98%E8%85%BE/feed.xml" rel="self" type="application/rss+xml"/><item><title>你可能并不需要内网穿透</title><link>https://blog.heysh.xyz/2021/07/20/beyond-nat/</link><pubDate>Tue, 20 Jul 2021 17:03:31 +0800</pubDate><guid>https://blog.heysh.xyz/2021/07/20/beyond-nat/</guid><description>&lt;blockquote>
&lt;p>最近搬家了，互联网从联通变成了便宜一些的电信。于是，我失去了之前的公网IP&lt;code>114.*.*.*&lt;/code>，换来了&lt;code>100.64.*.*&lt;/code>&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>。不过，IPv6地址仍然是&lt;code>2404::****&lt;/code>，这个应该也算是所谓的 &lt;em>公网IP&lt;/em> 吧？&lt;/p>
&lt;/blockquote>
&lt;h2 id="准备">准备&lt;/h2>
&lt;ol>
&lt;li>和安装网络的大叔说，我需要把光猫改成桥接模式，并保证“咱是专业的，不会弄坏网线，弄坏了也不会去投诉”；&lt;/li>
&lt;li>找一个稍微新一点的路由器，我用的是刷了&lt;code>OpenWRT&lt;/code>的，&lt;strong>非常贵的&lt;/strong>跑路K3；&lt;/li>
&lt;li>&lt;a href="https://test-ipv6.com">test-ipv6.com&lt;/a>显示了IPv6地址而且没有给你打零分。&lt;/li>
&lt;/ol>
&lt;figure>&lt;img src="ipv6-test.png"/>&lt;figcaption>
&lt;h4>比如这样&lt;/h4>
&lt;/figcaption>
&lt;/figure>
&lt;h2 id="打开端口">打开端口&lt;/h2>
&lt;p>虽然没有了NAT，但是防火墙还是必不可少的，毕竟在互联网上随意敞开自己的端口和裸奔没有什么区别。当然，稍微露出一点点的话没有什么问题，所以我开了几个五位数的端口，用来SSH。&lt;/p>
&lt;figure>&lt;img src="ipv6-firewall.png"/>&lt;figcaption>
&lt;h4>就像这样（图像经过处理，实际上有更多规则，而且端口也不是这几个）&lt;/h4>
&lt;/figcaption>
&lt;/figure>
&lt;p>如果对安全要求更高的话，可以参考&lt;a href="https://blog.ptsang.net/match-ipv6-dynamic-addresses-in-iptables?utm_source=pocket_mylist">这里&lt;/a>匹配IPv6地址的末几位，就像&lt;code>::abcd:1234:5678:90ef/::ffff:ffff:ffff:ffff&lt;/code>这样。&lt;/p>
&lt;p>在这个时候，你应该已经可以通过手机移动网络用SSH连接回自己主机的IPv6地址了。就和公网一模一样。&lt;/p>
&lt;h2 id="绑定域名">绑定域名&lt;/h2>
&lt;p>任何一个支持IPv6的AAAA地址绑定的DDNS服务都可以。我家里恰好有一个长期开机的矿渣&lt;code>贝壳云&lt;/code>，是某次水逆之后想要买树莓派四，忍住了却又没有完全忍住的结果；之前写的&lt;a href="https://blog.heysh.xyz/2018/07/05/cloudflare-ddns/">cloudflare脚本&lt;/a>刚好能用。&lt;/p>
&lt;h2 id="跳板机自称">跳板机（自称）&lt;/h2>
&lt;p>如果想对内网完全控制，而不是仅仅几个端口的话，可能需要所谓跳板机的配合。仔细想想，这是一个跨越&lt;code>防火墙.little&lt;/code>的活动，对付&lt;code>防火墙 the Great&lt;/code>的软件也完全适用。所以我在内网设备（aka矿渣）上部署了某个V开头的软件，通过Android客户端连回家里完全没有问题&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>。&lt;/p>
&lt;p>如果外面的Windows想要进来的话，我现在用的是已经跑路的&lt;code>SocksCap64&lt;/code>&lt;sup id="fnref:3">&lt;a href="#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup>。把&lt;code>MSTSC.exe&lt;/code>加到列表里，就可以愉快地远程桌面了。&lt;/p>
&lt;section class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1" role="doc-endnote">
&lt;p>用于在电信级NAT环境中服务提供商与其用户通信，&lt;a href="https://zh.wikipedia.org/wiki/%E4%BF%9D%E7%95%99IP%E5%9C%B0%E5%9D%80">维基百科&lt;/a>上说的。&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2" role="doc-endnote">
&lt;p>记住客户端不要&lt;code>绕过局域网地址&lt;/code>，我们用的就是局域网。&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3" role="doc-endnote">
&lt;p>TODO：急求一款没有跑路的、免费的、Windows下的全局代理软件。&amp;#160;&lt;a href="#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/section></description></item><item><title>和（基本上）什么也不能连的电脑传递信息</title><link>https://blog.heysh.xyz/2020/10/18/information-exchange-in-extreme-situations/</link><pubDate>Sun, 18 Oct 2020 12:56:57 +0000</pubDate><guid>https://blog.heysh.xyz/2020/10/18/information-exchange-in-extreme-situations/</guid><description>&lt;blockquote>
&lt;p>有时候你会&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>遇到一些电脑，孤零零的漂浮在互联网络之外，所有USB口都上了锁，要送进去一些文件，必须要找海关盖上十几个章才能够放行。&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>当然，显示器、鼠标和键盘还是可以用的，可以让上个世纪的打字小妹一点一点地敲击按键……或者在敲的同时走神，想一想有没有什么别的办法。&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>下面就是某一天下午，被锁链铐在工位上的我的白日梦。&lt;/p>
&lt;/blockquote>
&lt;p>好吧，现在的情况还不算太糟，至少还有输入设备（键盘，或者像是键盘的什么玩意儿），实在不行的话，我们也可以做出一个 &lt;strong>超级打字机器人3000&lt;/strong> 之类的。&lt;/p>
&lt;p>&lt;img src="5f4.gif" alt="3000">&lt;/p>
&lt;p>&lt;em>想着这些，我把键盘上的导线扯了下来，我看见线的另一头连着的接口是——&lt;/em>&lt;/p>
&lt;h3 id="a-扁扁的长方形里面只有四片铜片和一片塑料">a. 扁扁的长方形，里面只有四片铜片和一片塑料：&lt;/h3>
&lt;p>这么说他们也并没有把USB口完全封死嘛。&lt;/p>
&lt;p>&lt;em>我想起还没有被奴役的时候，在网上自由自在地冲浪的时候，曾经看到过一种叫做badUSB的东西。&lt;/em>&lt;/p>
&lt;p>我记得&lt;a href="https://github.com/SpacehuhnTech/WiFiDuck">那玩意&lt;/a>就可以模拟USB键盘，没准正是我想要的。&lt;/p>
&lt;p>&lt;em>我仔细阅读了README，但变得有些失望。&lt;/em>&lt;/p>
&lt;p>不，这个不行。每个键盘都有独一无二的UID和HID识别码，如果不能模拟这些号码，我会被守卫发现的。没准神秘的TB黑客能帮得上忙。&lt;/p>
&lt;p>&lt;em>躲开守卫的视线，我开始翻阅黑客目录，接着，我发现了一块代号为&lt;a href="https://item.taobao.com/item.htm?spm=a1z09.2.0.0.10462e8dAwSoVQ&amp;amp;id=607040512173&amp;amp;_u=i26o2jl627c">CH3929&lt;/a>的芯片。&lt;/em>&lt;/p>
&lt;p>这个应该可以，可能是设计给物理外挂用的，用上这个，我就可以用串口控制芯片，再用芯片模拟键盘，嗯，十分直接。&lt;/p>
&lt;p>什么？直接用串口通信？不不不这太危险了。&lt;em>上工的铃声把我惊醒，我揉揉眼睛，发现手里的键盘接口变了形状——&lt;/em>&lt;/p>
&lt;h3 id="b-圆形里面有6根金属圆柱和一块塑料块">b. 圆形，里面有6根金属圆柱和一块塑料块：&lt;/h3>
&lt;p>&lt;img src="ps2.png" alt="ps/2">&lt;/p>
&lt;p>居然PS/2这种接口还没有绝迹，真不愧是尊重传统的企业啊。我听说这种接口的协议就更简单了，完全没有识别环节，对电脑来说，所有键盘都是一样的，而且也有外面的好心人做了&lt;a href="https://github.com/emard/esp32ps2">两种&lt;/a>&lt;a href="https://github.com/Harvie/ps2dev">程序&lt;/a>，只要烧进ESP32，就能够模拟PS/2键盘。&lt;/p>
&lt;p>而且信息输出也不是不可能的，除了老土的屏幕照相之外，还能用&lt;a href="https://divan.dev/posts/fountaincodes/">视频二维码&lt;/a>，看起来既迅速又高大上——&lt;/p>
&lt;p>“小X，来新活了！”&lt;/p>
&lt;p>“这就来！”&lt;/p>
&lt;p>等我敲完这一批字之后，一定要去试一试。&lt;em>我这样想。&lt;/em>&lt;/p>
&lt;blockquote>
&lt;p>免责声明：上面的只是白日梦而已，完全没有测试过。请遵守本地法律法规和公司规章制度，不管你干了什么都跟我没有任何关系。&lt;/p>
&lt;p>另外，这次的博文让我想起一个笑话，就是我请电脑高手重装系统，但是他只有一张光盘和一根针……哈哈哈，完全笑不出来。&lt;/p>
&lt;/blockquote>
&lt;section class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1" role="doc-endnote">
&lt;p>怎么说呢，希望你不会——这种事情还是挺少见的，大概。&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/section></description></item><item><title>Beancount试用,半年后</title><link>https://blog.heysh.xyz/2019/11/07/netease-youqian-with-beancount/</link><pubDate>Thu, 07 Nov 2019 21:58:22 +0800</pubDate><guid>https://blog.heysh.xyz/2019/11/07/netease-youqian-with-beancount/</guid><description>&lt;p>自从2017年开始，我一直使用 &lt;em>网易有钱&lt;/em> 记账。不得不说，如果像某落水狗讲的那样，“中国人不在乎隐私”的话，这确实是一个非常好用的APP，下载账单、导入数据一气呵成，连余额宝的利息都能够算得分毫不差——&lt;/p>
&lt;p>直到最近，大概是骂挨得太多，或是界面里终于塞不下更多广告，这个APP①用“维护中”挡住了所有同步按钮，并且②停止了维护。&lt;/p>
&lt;p>用8元买回了本属于自己的数据后，我想起之前听说过的&lt;a href="https://www.byvoid.com/zht/blog/beancount-bookkeeping-1">Beancount&lt;/a>。于是，我给那些数据找到了一些新用途。&lt;/p>
&lt;h2 id="冷启动">冷启动&lt;/h2>
&lt;p>首先，我阅读了&lt;a href="https://yuchi.me/post/beancount-intro/">这篇博文&lt;/a>，搭起了Beancount。接着，我又写了一些其它的&lt;a href="https://github.com/heyeshuang/beancount-homemade-importers">脚本&lt;/a>。&lt;/p>
&lt;h3 id="自动建立收支账户">自动建立收支账户&lt;/h3>
&lt;p>之前的理财软件大多会提供一些初始分类，比如说mint所用的类别列表在&lt;a href="https://www.mint.com/mint-categories">这里&lt;/a>。
对于本人&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>之前的账本，有过记录的大概是这样几类：&lt;/p>
&lt;p>&lt;code>{'交通,', '交通,打车', '交通,机票', '交通,火车', '人情,', '住房,', '住房,家具', '住房,家纺', '住房,物业水电', '住房,装修', '其他,', '医疗,', '医疗,药品', '娱乐,', '娱乐,电影', '投资亏损,', '文教,', '文教,书刊', '文教,文具', '旅行,', '旅行,景点门票', '旅行,酒店', '汽车,', '购物,', '购物,数码', '购物,日用', '购物,玩具', '购物,电器', '购物,美妆', '购物,运动用品', '购物,鞋服', '购物,饰品', '通讯,', '通讯,话费', '零食烟酒,', '零食烟酒,水果', '零食烟酒,烟酒', '零食烟酒,茶水', '零食烟酒,零食', '零食烟酒,饮料', '餐饮,', '餐饮,三餐', '餐饮,食材'}&lt;/code>&lt;/p>
&lt;p>对这些分类，利用人工&lt;del>智能&lt;/del>，为每一项建立了对应的&lt;code>account&lt;/code>，形成了一个&lt;a href="https://github.com/heyeshuang/beancount-homemade-importers/blob/master/importers/youqian/youqianDict.py">dict&lt;/a>。&lt;/p>
&lt;p>如果你已经下载了&lt;a href="https://github.com/heyeshuang/beancount-homemade-importers">beancount-homemade-importers&lt;/a>，你可以用里面的&lt;code>importers/ youqian/accountInit.py&lt;/code>来自动建立这些&lt;code>accounts&lt;/code>：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">python importers/youqian/accountInit.py &amp;gt; New_Accounts.bean
&lt;span style="color:#09f;font-style:italic"># 或：如果之前已经建立了一些账户的话&lt;/span>
python importers/youqian/accountInit.py Existing_Accounts.bean &amp;gt; New_Accounts.bean
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="导入网易有钱的收入支出数据">导入网易有钱的收入、支出数据&lt;/h3>
&lt;p>Beancount的&lt;a href="https://docs.google.com/document/d/11EwQdujzEo2cxqaF5PgxCEZXWfKKQCYSMfdJowp_1S8/edit#">文档&lt;/a>里已经对导入脚本进行了比较详细的说明。从&lt;a href="https://bitbucket.org/blais/beancount/src/tip/examples/ingest/office/importers/utrade/">这个例子&lt;/a>开始，基本上只要实现几个函数就行。&lt;/p>
&lt;p>在&lt;a href="https://github.com/heyeshuang/beancount-homemade-importers">beancount-homemade-importers&lt;/a>中，我写了一个简单的网易有钱导入脚本。在使用之前，需要用excel把默认的&lt;code>xlsx&lt;/code>格式转换为&lt;code>收入.csv&lt;/code>和&lt;code>支出.csv&lt;/code>。&lt;/p>
&lt;p>之后，使用&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-fallback" data-lang="fallback">bean-extract importers/youqian/youqian_expense.import documents.tmp/支出.csv &amp;gt; 支出.bean
bean-extract importers/youqian/youqian_income.import documents.tmp/收入.csv &amp;gt; 收入.bean
&lt;/code>&lt;/pre>&lt;/div>&lt;p>来导入。&lt;/p>
&lt;h2 id="自动记账">自动记账&lt;/h2>
&lt;p>写下这个标题是在2020年6月。在使用beancount半年之后，账本一共增加了270条内容，所需的时间每月不超过1小时。&lt;/p>
&lt;p>&lt;img src="%E6%9D%A1%E7%9B%AE.png" alt="">&lt;/p>
&lt;h3 id="梳理资金的流向">梳理资金的流向&lt;/h3>
&lt;p>作为一个单身工薪族，我的&lt;del>主要&lt;/del>全部收入来自于工资，在经过一些卡片后，从微信、支付宝和其他地方流走。&lt;/p>
&lt;p>&lt;img src="mermaid-diagram.svg" alt="用mermaid画的流程图">&lt;/p>
&lt;details>
&lt;summary>
&lt;h4 class="inline">
(这张图是用mermaid画的，这里是源代码)
&lt;/h4>
&lt;/summary>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-fallback" data-lang="fallback">graph LR;
linkStyle default interpolate basis
subgraph one [开销]
A([支付宝]);
B([微信]);
G([&amp;#34;京东、刷卡&amp;#34;]);
H([理财]);
end
subgraph two [收入]
C[工商银行];
end
D[农业银行];
E([中国银行]);
F([招商银行]);
E --&amp;gt; H
E &amp;amp; F --&amp;gt; A &amp;amp; B
C --&amp;gt; E &amp;amp; D &amp;amp; F
F --&amp;gt; G
classDef auto fill:#9ACFBF
class B,E,F auto
&lt;/code>&lt;/pre>&lt;/div>&lt;/details>
&lt;p>其中，有一些银行卡（比如图中的农业银行）每月的转账记录不超过2条，这时候只要手工敲上几行就可以了。对于另外的、日常生活的花费，手动记录带来了大量时间的浪费。这时候，找到流动的枢纽，并对它们的账单进行批量处理，就可以从重复劳动中解放出来。对于我来说，要进行批量处理的节点是&lt;code>中国银行&lt;/code>，&lt;code>招商银行&lt;/code>和&lt;code>微信&lt;/code>。&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>&lt;/p>
&lt;h3 id="写一些脚本">写一些脚本&lt;/h3>
&lt;p>所以，我写了中国银行、招商银行和微信钱包对账单的导入脚本。Beancount拥有比较强大的导入功能，对于简单的、CSV格式的账单文件，只要在自带的&lt;code>beancount.ingest.importers.csv.importer&lt;/code>上&lt;a href="https://github.com/heyeshuang/beancount-homemade-importers/blob/master/importers/boc.import">稍作修改&lt;/a>就可以了；对于其它较为复杂的账单，可以自行扩展&lt;code>ImporterProtocol&lt;/code>的子类，在&lt;a href="https://docs.google.com/document/d/11EwQdujzEo2cxqaF5PgxCEZXWfKKQCYSMfdJowp_1S8/edit#heading=h.z153vh2ll6ix">官方文档&lt;/a>中有较为详细的说明。&lt;/p>
&lt;p>另外，我还发现了&lt;a href="https://github.com/beancount/smart_importer">smart_importer&lt;/a>，只要简单地增加hook，就可以给导入脚本增加更好的去重、智能猜测分类等更帅气的功能。&lt;/p>
&lt;h3 id="在每个账单日运行一次">在每个账单日运行一次&lt;/h3>
&lt;p>在账单目录下，我建立了一个&lt;code>TODO&lt;/code>文件：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-fallback" data-lang="fallback">自动导入微信、中国银行和招商（账单日）
手动导入工行和农行
&lt;/code>&lt;/pre>&lt;/div>&lt;p>因为微信的账单信息比较多，我一般先从它开始。每月信用卡的账单日，下载微信钱包对账单，然后运行：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">bean-extract importers/wechat.import documents.tmp/微信支付账单.csv -f main.bean &amp;gt; temp.bean
&lt;/code>&lt;/pre>&lt;/div>&lt;p>其中，&lt;code>-f&lt;/code>用来为&lt;code>smart_importer&lt;/code>提供学习素材。&lt;/p>
&lt;p>接下来打开&lt;code>temp.bean&lt;/code>，检查人工&lt;del>智障&lt;/del>智能补充的分类条目有没有什么问题。（大概率问题很多，每个月大部分的时间会花费在这里。）&lt;/p>
&lt;p>之后，将&lt;code>temp.bean&lt;/code>重命名为一个有意义的名字，并在&lt;code>main.bean&lt;/code>中&lt;code>import&lt;/code>。接下來对银行账户的导入过程中，&lt;code>smart_importer&lt;/code>会自动去除重复账单。&lt;/p>
&lt;p>在上面的工作都完成以后，本月的账单也只剩下几条漏网之鱼了。把它们（手动）补充，并用&lt;code>balance&lt;/code>命令检查。&lt;/p>
&lt;h3 id="并养成记账的好习惯">并养成“记账的好习惯”&lt;/h3>
&lt;p>在某些问答网站上，在“相见恨晚的习惯”列表，记账大概能排在top10的位置；同时，在“半途而废的习惯”里，位置大概也在附近。原因并不仅仅是“缺乏自制力”，而是手动记账花费了太多时间，而效果并不是立竿见影的。在付出和反馈不成比例时，放弃就成了唯一的选择。&lt;/p>
&lt;p>如果每个月只要十几分钟就可以获得成就感，习惯也就自然地养成了。&lt;/p>
&lt;h2 id="又及">又及&lt;/h2>
&lt;blockquote>
&lt;p>我跟你港，这次的内容超适合作Python教程的，还能顺便学英语！只要学会了这个，年薪百万不是梦！&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>现在诚征 100 个&lt;del>凯子&lt;/del>幸运读者给我打钱，我的支付宝是：……&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>呃，对不起。&lt;/p>
&lt;/blockquote>
&lt;p>以上不代表博主观点。&lt;/p>
&lt;section class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1" role="doc-endnote">
&lt;p>一个普通的、抠抠索索的中青年男性，未婚，不修边幅，被阳光照到会燃烧。&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2" role="doc-endnote">
&lt;p>细心的读者可能会注意到，我并没有将支付宝也列入进来，即使和微信的地位相似。这是由于支付宝的账单并不能显示付款账户。通过余额宝和通过信用卡支付，在对账单上没有明确的区分，这会给之后的条目合并造成困难。在开始用beancount之后，因为手动记录太麻烦，我很少用支付宝付款。&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/section></description></item><item><title>自动输入剪贴板中的内容</title><link>https://blog.heysh.xyz/2019/09/22/klipper-autotype/</link><pubDate>Sun, 22 Sep 2019 20:54:15 +0800</pubDate><guid>https://blog.heysh.xyz/2019/09/22/klipper-autotype/</guid><description>&lt;blockquote>
&lt;p>值此佳节之际，为了给伟大祖国献礼，让几个VPS炸成烟花是必不可少的庆祝活动。于是，我搭在Google Cloud Platform上的V2RAY理所当然地连不上了。&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>正好上次薅的羊毛也快要过期了，又到了交保护费的时间。&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>其实之前我有两页关于VPS（价格）的笔记，不过计划赶不上变化，今天看到了一个叫Veesp的公司，很便宜，而且速度居然也还不错。&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>惟一的缺点是，&lt;del>我买不到红墨水&lt;/del>那里的终端noVNC不支持粘贴。&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>以上是（无关紧要的）背景。&lt;/p>
&lt;/blockquote>
&lt;details>
&lt;summary>
&lt;h4 class="inline">
附：Veesp的测速情况
&lt;/h4>
&lt;/summary>
&lt;p>&lt;img src="https://blog.heysh.xyz/img/veesp-speedtest.png" alt="北京联通表示情绪稳定">&lt;/p>
&lt;/details>
&lt;p>针对noVNC的问题，根据&lt;a href="https://forum.proxmox.com/threads/novnc-copy-paste-not-works.19773/#post-101013">这个帖子&lt;/a>，可以用&lt;code>xdotool&lt;/code>来解决。&lt;/p>
&lt;p>现在我用的KDE自带剪贴板管理程序&lt;code>Klipper&lt;/code>，能够配置自定义动作处理剪贴板中的内容。这里的动作是&lt;code>xdotool type '%s'&lt;/code>，如图：&lt;/p>
&lt;p>&lt;img src="https://blog.heysh.xyz/img/klipper.png" alt="setting">&lt;/p>
&lt;p>另外，在我这里&lt;code>在当前剪贴板上手动执行动作&lt;/code>的快捷键&lt;kbd>Ctrl&lt;/kbd>+&lt;kbd>Alt&lt;/kbd>+&lt;kbd>R&lt;/kbd>似乎有冲突，我改成了&lt;kbd>Ctrl+Shift+Alt+R&lt;/kbd>。&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>&lt;/p>
&lt;p>之后在noVNC界面上按刚才的快捷键就行。&lt;/p>
&lt;hr>
&lt;p>来自19-10-4的更新：俄罗斯IP被某个熊猫网站（e-h）屏蔽了……我就随口一说。&lt;/p>
&lt;section class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1" role="doc-endnote">
&lt;p>具体地说，是在北京联通的4G网络，协议是WS+TLS，而且并不是永封，截至发稿前又可以连接了。在同个服务器上的$$被封得更彻底一些。&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2" role="doc-endnote">
&lt;p>其实我还有点期待&lt;code>&amp;lt;kbd&amp;gt;&lt;/code>标签能出个什么特殊格式呢……&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/section></description></item><item><title>Unicode与数学公式</title><link>https://blog.heysh.xyz/2019/09/05/unicodemath/</link><pubDate>Thu, 05 Sep 2019 20:24:27 +0800</pubDate><guid>https://blog.heysh.xyz/2019/09/05/unicodemath/</guid><description>&lt;p>如果你混迹某小蓝鸟APP，或者像我一样常常用辣鸡微信干活，那么在你需要一点数学的时候，可能会觉得有些尴尬。如果直接写一些裸的LaTeX显得有些不近人情，可是像百度知道大神一样直接把公式“展平”，又显得有一点点……低龄。&lt;sup class="footnote-ref" id="fnref:2">&lt;a class="footnote" href="#fn:2">1&lt;/a>&lt;/sup>&lt;/p>
&lt;p>借助现代Unicode的力量，可以输入一些比较简单的数学，大概能到这种程度：√X̅ₘ̅²̅+̅Y̅ᵦ̅²̅≥0&lt;/p>
&lt;p>这玩意粘贴到微信和小蓝鸟上效果居然还不错。（假装这里有个图）&lt;/p>
&lt;p>（呃，上面输入的是 &lt;span class="math">\(\sqrt{X_m^2+Y_\beta^2}\geq0\)&lt;/span>。）&lt;/p>
&lt;p>这里用到了&lt;a href="https://en.wikipedia.org/wiki/Mathematical_operators_and_symbols_in_Unicode">Unicode数学符号&lt;/a>、&lt;a href="https://en.wikipedia.org/wiki/Unicode_subscripts_and_superscripts">上下标&lt;/a>和&lt;a href="https://zh.wikipedia.org/wiki/%E7%B5%84%E5%90%88%E9%99%84%E5%8A%A0%E7%AC%A6%E8%99%9F">组合附加符号&lt;/a>&lt;sup class="footnote-ref" id="fnref:1">&lt;a class="footnote" href="#fn:1">2&lt;/a>&lt;/sup>。&lt;/p>
&lt;p>另外，在&lt;a href="https://en.wikipedia.org/wiki/CJK_Compatibility">中日韩兼容字符集&lt;/a>里还有类似&lt;code>㎛&lt;/code>这样的符号，个人觉得……有点玩过头了。&lt;/p>
&lt;div class="footnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:2">其实在这种情况下，&lt;a href="https://en.wikipedia.org/wiki/AsciiMath">AsciiMath&lt;/a>可能是一个好选择，毕竟这玩意比LaTeX长得好认多了。还有一种格式叫做&lt;a href="https://www.unicode.org/notes/tn28/UTN28-PlainTextMath-v3.1.pdf">UnicodeMath&lt;/a>，长得其实也不赖。
&lt;a class="footnote-return" href="#fnref:2">&lt;sup>[return]&lt;/sup>&lt;/a>&lt;/li>
&lt;li id="fn:1">用来输入上划线，具体是U+0305，可是效果好像不大好。另外，&lt;a href="https://fsymbols.com/generators/overline/">这个网站&lt;/a>可以直接添加上划线。
&lt;a class="footnote-return" href="#fnref:1">&lt;sup>[return]&lt;/sup>&lt;/a>&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>震惊！为了在Windows上访问EXT4分区，他竟然做出了这样的事！</title><link>https://blog.heysh.xyz/2019/03/02/hard-way-for-ext4-on-windows/</link><pubDate>Sat, 02 Mar 2019 23:19:02 +0800</pubDate><guid>https://blog.heysh.xyz/2019/03/02/hard-way-for-ext4-on-windows/</guid><description>&lt;p>呃……原谅这次的标题党，但我觉得这次自己的操作实在是太蠢了。&lt;/p>
&lt;p>事情是这样的，作为一个半吊子，我的电脑上同时有Windows 10和Manjaro Linux两个操作系统，也就有了从Windows上访问Ext4分区的要求。大约在一年之前，这个要求可以用&lt;a href="https://www.ext2fsd.com/">Ext2fsd&lt;/a>来满足，可是一年过去，它已经无法识别新的Ext4版本了。&lt;/p>
&lt;p>于是，我……我做了一个linux虚拟机来帮我读这个分区。&lt;/p>
&lt;p>具体来说，VirtualBox支持将单独的分区视为虚拟磁盘&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>。你需要在 &lt;strong>具有管理员权限&lt;/strong> 的命令提示符中运行：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-fallback" data-lang="fallback">VBoxManage internalcommands createrawvmdk -filename &amp;#34;C:\Users\&amp;lt;user_name&amp;gt;\VirtualBox VMs\&amp;lt;VM_folder_name&amp;gt;\&amp;lt;file_name&amp;gt;.vmdk&amp;#34; -rawdisk \\.\PhysicalDrive0 -partitions 1,5 -relative
&lt;/code>&lt;/pre>&lt;/div>&lt;p>这个程序大概在VirtualBox的安装目录下，磁盘号和windows的“磁盘管理”程序一致，分区号可以用下面的命令获得。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-fallback" data-lang="fallback">VBoxManage internalcommands listpartitions -rawdisk \\.\PhysicalDrive0
&lt;/code>&lt;/pre>&lt;/div>&lt;p>之后，&lt;/p>
&lt;ul>
&lt;li>同样是用 &lt;strong>管理员权限&lt;/strong> 运行VirtualBox&lt;/li>
&lt;li>把网卡模式改为桥接&lt;/li>
&lt;li>挂载刚才生成的VMDK文件&lt;/li>
&lt;li>&lt;strong>在另一个虚拟磁盘上&lt;/strong> 安装Linux（这里我用的是Alpine Linux Extended）&lt;/li>
&lt;li>设置Samba&lt;sup id="fnref:3">&lt;a href="#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup>&lt;/li>
&lt;/ul>
&lt;p>就可以在宿主机上用网络硬盘访问Ext4分区了。&lt;/p>
&lt;p>而且能够收获一次反思：我为什么要浪费宝贵的时间干这个？&lt;/p>
&lt;section class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1" role="doc-endnote">
&lt;p>&lt;a href="https://www.virtualbox.org/manual/ch09.html#rawdisk">https://www.virtualbox.org/manual/ch09.html#rawdisk&lt;/a>&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2" role="doc-endnote">
&lt;p>&lt;a href="https://www.serverwatch.com/server-tutorials/using-a-physical-hard-drive-with-a-virtualbox-vm.html">https://www.serverwatch.com/server-tutorials/using-a-physical-hard-drive-with-a-virtualbox-vm.html&lt;/a>&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3" role="doc-endnote">
&lt;p>&lt;a href="https://wiki.alpinelinux.org/wiki/Setting_up_a_samba-server">https://wiki.alpinelinux.org/wiki/Setting_up_a_samba-server&lt;/a>&amp;#160;&lt;a href="#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/section></description></item><item><title>笔记软件踩雷</title><link>https://blog.heysh.xyz/2018/11/17/which-notebook/</link><pubDate>Sat, 17 Nov 2018 18:26:30 +0800</pubDate><guid>https://blog.heysh.xyz/2018/11/17/which-notebook/</guid><description>&lt;p>大概是2017年的时候，我一直在使用的为知笔记开始收费了。在交了一年的订阅费（并写了小于10篇笔记）之后，我决定换一款新的笔记软件。&lt;/p>
&lt;p>如果对自己的要求有清楚的认识，当查找 &lt;em>poor man's somewares&lt;/em> 时，&lt;a href="https://alternativeto.net/software/evernote/">AlternativeTo&lt;/a>和&lt;a href="https://www.slant.co/topics/2463/~best-evernote-alternatives">Slant&lt;/a>这两个网站经常能够带来一些灵感。对于我来说，笔记软件需要：&lt;/p>
&lt;ul>
&lt;li>（扩展的）Markdown格式，支持代码块和公式&lt;/li>
&lt;li>支持多种格式的附件，而不是只支持图片
&lt;ul>
&lt;li>附件的链接可以插入笔记中&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>导入导出方便，不要像臭名昭著的有道笔记一样&lt;/li>
&lt;li>网页剪辑&lt;/li>
&lt;li>跨平台&lt;/li>
&lt;li>支持同步&lt;/li>
&lt;/ul>
&lt;p>这样的话，类似google keep、evernote的软件和收费软件（……）就首先被排除了；在markdown出现之前的老牌笔记软件也自动忽略。然后我试用了当红的boostnote和……什么来着，但这两个软件对附件的支持都不太好。最后，有两个软件满足我的大部分要求：&lt;/p>
&lt;h2 id="vnotehttpstamlokgithubiovnote">&lt;a href="https://tamlok.github.io/vnote/">VNote&lt;/a>&lt;/h2>
&lt;p>美丽的Qt程序，纯Markdown保存，直接粘贴HTML到笔记，甚至还有Vim按键绑定，一切都很好，除了没有同步和Android客户端；当然，纯文本文件可以很容易地用git同步，所以问题变成了另外两个：没有合适的git Android，以及没有Android上的Markdown阅读器&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>。&lt;/p>
&lt;h2 id="joplinhttpsjoplincozicnet">&lt;a href="https://joplin.cozic.net">Joplin&lt;/a>&lt;/h2>
&lt;p>用javascript写应用虽然被很多人鄙视，但确实真正解决了跨平台运行的问题。这个程序似乎连Android客户端都在同一个代码仓库里，如果不在意肉眼可见的卡顿的话，react native能够让人少写好多代码，反观qt-Android……&lt;/p>
&lt;p>咳咳，扯远了。总之Joplin有Android客户端，而且自带onedrive同步功能。Nothing to complain&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>.&lt;/p>
&lt;p>另外还有两个小问题。&lt;/p>
&lt;h2 id="关于文章剪辑">关于文章剪辑&lt;/h2>
&lt;p>试图将HTML转回markdown，就像是试图将pdf转回TEX、减少宇宙的熵、或者是把石头推上山一样徒劳，不过，仍然有&lt;a href="https://github.com/domchristie/turndown">勇士&lt;/a>在尝试这个任务，效果嘛……差强人意，从两个方面理解都可以。&lt;/p>
&lt;h2 id="关于为知笔记导出">关于为知笔记导出&lt;/h2>
&lt;blockquote>
&lt;p>感觉基本上没什么戏……&lt;/p>
&lt;/blockquote>
&lt;p>为知笔记的markdown格式笔记不是纯文本，而是用HTML储存的，这就是说，打开笔记之后，需要看一整段
&lt;code>&amp;lt;!DOCTYPE html&amp;gt;&amp;lt;html lang=&amp;quot;en&amp;quot;（下略&lt;/code>
才能看到自己的笔记。导出txt格式可能会好一些，代价是损失所有图片；另外，导出时是没有附件的……&lt;/p>
&lt;p>理论上，这些都可以用一个脚本来解决，不过我看着自己一百多篇各种格式的笔记，决定还是把它们扔在硬盘里吧。“反正以后光纤也跟我没关系了……”……大概。&lt;/p>
&lt;hr>
&lt;p>来自2019-09-18的更新：&lt;/p>
&lt;p>最近在V2EX上看到了一个叫&lt;a href="https://github.com/notable/notable">notable&lt;/a>的软件，思路上和VNote类似，也是使用文件夹代替数据库，笔记用纯文本格式保存在磁盘中，而且对于图片和附件的位置处理得也很聪明。&lt;/p>
&lt;p>另外，在这个项目的主页上还列出了很多常见的笔记软件，而且画了个漂亮的表格（在&lt;a href="https://raw.githubusercontent.com/notable/notable/master/resources/comparison/table.png">这里&lt;/a>），来比较他们的区别，对某些功能有执念的朋友可以去看看。&lt;/p>
&lt;p>当然我还是继续用joplin。&lt;em>feels good man.&lt;/em>&lt;/p>
&lt;hr>
&lt;p>来自2019-9-18更晚些时候的更新：&lt;/p>
&lt;p>我又翻了一下那个项目的README，发现那个项目不再开源了。好吧，当我今天没有更新。&lt;/p>
&lt;section class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1" role="doc-endnote">
&lt;p>在VNote的某个Issue里提到过&lt;a href="https://github.com/gsantner/markor">Markor&lt;/a>，不过问题没有这么简单：git从来都没有自动同步功能，所以每次写完笔记之后还要push一次。&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2" role="doc-endnote">
&lt;p>除了导出文件时的一个&lt;a href="https://github.com/laurent22/joplin/issues/853">issue&lt;/a>。It looks like Chinese to me. &lt;em>18-11-20更新：&lt;/em> 开发者回复我了！开心～&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/section></description></item><item><title>关于BitMEX的杠杆</title><link>https://blog.heysh.xyz/2018/08/16/about-leverage/</link><pubDate>Thu, 16 Aug 2018 20:35:30 +0800</pubDate><guid>https://blog.heysh.xyz/2018/08/16/about-leverage/</guid><description>&lt;p>在比特币降到6000$以下的时候，加密货币最忠实的信徒是怎样的心情？作为一个骑墙派，我不敢妄加揣测。不过，有一点是可以肯定的：把加密货币留在账户上然后去睡觉，神经衰弱的一系列症状大约会加重。&lt;/p>
&lt;p>所以&lt;a href="https://www.bitmex.com/register/O3rmQq">BitMEX&lt;/a>（这里是个返利链接）用XBT计算盈亏就显得很有趣了：当比特币上涨的时候，大家都很开心；可是万一下跌的话，实际盈亏还要乘上汇率的缩水，一不小心就会得到双倍的悲伤。这种时候，理解账户数字的 &lt;em>实际价值&lt;/em>&lt;sup class="footnote-ref" id="fnref:pizza">&lt;a class="footnote" href="#fn:pizza">1&lt;/a>&lt;/sup>，可能对控制风险有更为重要的意义。&lt;/p>
&lt;p>根据&lt;a href="https://www.bitmex.com/app/pnlGuide">官方指南&lt;/a>，盈利的XBT数目可以这样计算：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-python" data-lang="python">win_BTC_long&lt;span style="color:#555">=&lt;/span>(&lt;span style="color:#f60">1&lt;/span>&lt;span style="color:#555">/&lt;/span>price_before&lt;span style="color:#555">-&lt;/span>&lt;span style="color:#f60">1&lt;/span>&lt;span style="color:#555">/&lt;/span>price_after)&lt;span style="color:#555">*&lt;/span>count &lt;span style="color:#09f;font-style:italic">#做多&lt;/span>
win_BTC_short&lt;span style="color:#555">=&lt;/span>(&lt;span style="color:#555">-&lt;/span>&lt;span style="color:#f60">1&lt;/span>&lt;span style="color:#555">/&lt;/span>price_before&lt;span style="color:#555">+&lt;/span>&lt;span style="color:#f60">1&lt;/span>&lt;span style="color:#555">/&lt;/span>price_after)&lt;span style="color:#555">*&lt;/span>count &lt;span style="color:#09f;font-style:italic">#做空&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;p>那么，经过这部分操作之后，账户的最终价值是：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-python" data-lang="python">win_BTC_long&lt;span style="color:#555">*&lt;/span>price_after&lt;span style="color:#555">+&lt;/span>cash&lt;span style="color:#555">/&lt;/span>price_before&lt;span style="color:#555">*&lt;/span>price_after &lt;span style="color:#09f;font-style:italic">#做多，或&lt;/span>
win_BTC_short&lt;span style="color:#555">*&lt;/span>price_after&lt;span style="color:#555">+&lt;/span>cash&lt;span style="color:#555">/&lt;/span>price_before&lt;span style="color:#555">*&lt;/span>price_after &lt;span style="color:#09f;font-style:italic">#做空&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;p>其中，&lt;code>cash&lt;/code>是操作前账户的实际价值，&lt;span class="math">\(cash*leverage=count\)&lt;/span>。&lt;/p>
&lt;p>例如，当价格从1000$升至1250$，或从1250$降至1000$时，选用不同杠杆的盈亏如下：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>leverage&lt;/th>
&lt;th>作多，跌&lt;/th>
&lt;th>作多，涨&lt;/th>
&lt;th>作空，跌&lt;/th>
&lt;th>作空，涨&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>0.0&lt;/td>
&lt;td>800.0&lt;/td>
&lt;td>1250.0&lt;/td>
&lt;td>800.0&lt;/td>
&lt;td>1250.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.1&lt;/td>
&lt;td>780.0&lt;/td>
&lt;td>1275.0&lt;/td>
&lt;td>820.0&lt;/td>
&lt;td>1225.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.2&lt;/td>
&lt;td>760.0&lt;/td>
&lt;td>1300.0&lt;/td>
&lt;td>840.0&lt;/td>
&lt;td>1200.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.3&lt;/td>
&lt;td>740.0&lt;/td>
&lt;td>1325.0&lt;/td>
&lt;td>860.0&lt;/td>
&lt;td>1175.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.4&lt;/td>
&lt;td>720.0&lt;/td>
&lt;td>1350.0&lt;/td>
&lt;td>880.0&lt;/td>
&lt;td>1150.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.5&lt;/td>
&lt;td>700.0&lt;/td>
&lt;td>1375.0&lt;/td>
&lt;td>900.0&lt;/td>
&lt;td>1125.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.6&lt;/td>
&lt;td>680.0&lt;/td>
&lt;td>1400.0&lt;/td>
&lt;td>920.0&lt;/td>
&lt;td>1100.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.7&lt;/td>
&lt;td>660.0&lt;/td>
&lt;td>1425.0&lt;/td>
&lt;td>940.0&lt;/td>
&lt;td>1075.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.8&lt;/td>
&lt;td>640.0&lt;/td>
&lt;td>1450.0&lt;/td>
&lt;td>960.0&lt;/td>
&lt;td>1050.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>0.9&lt;/td>
&lt;td>620.0&lt;/td>
&lt;td>1475.0&lt;/td>
&lt;td>980.0&lt;/td>
&lt;td>1025.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>1.0&lt;/td>
&lt;td>600.0&lt;/td>
&lt;td>1500.0&lt;/td>
&lt;td>1000.0&lt;/td>
&lt;td>1000.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>1.1&lt;/td>
&lt;td>580.0&lt;/td>
&lt;td>1525.0&lt;/td>
&lt;td>1020.0&lt;/td>
&lt;td>975.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>1.2&lt;/td>
&lt;td>560.0&lt;/td>
&lt;td>1550.0&lt;/td>
&lt;td>1040.0&lt;/td>
&lt;td>950.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>1.3&lt;/td>
&lt;td>540.0&lt;/td>
&lt;td>1575.0&lt;/td>
&lt;td>1060.0&lt;/td>
&lt;td>925.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>1.4&lt;/td>
&lt;td>520.0&lt;/td>
&lt;td>1600.0&lt;/td>
&lt;td>1080.0&lt;/td>
&lt;td>900.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>1.5&lt;/td>
&lt;td>500.0&lt;/td>
&lt;td>1625.0&lt;/td>
&lt;td>1100.0&lt;/td>
&lt;td>875.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>1.6&lt;/td>
&lt;td>480.0&lt;/td>
&lt;td>1650.0&lt;/td>
&lt;td>1120.0&lt;/td>
&lt;td>850.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>1.7&lt;/td>
&lt;td>460.0&lt;/td>
&lt;td>1675.0&lt;/td>
&lt;td>1140.0&lt;/td>
&lt;td>825.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>1.8&lt;/td>
&lt;td>440.0&lt;/td>
&lt;td>1700.0&lt;/td>
&lt;td>1160.0&lt;/td>
&lt;td>800.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>1.9&lt;/td>
&lt;td>420.0&lt;/td>
&lt;td>1725.0&lt;/td>
&lt;td>1180.0&lt;/td>
&lt;td>775.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2.0&lt;/td>
&lt;td>400.0&lt;/td>
&lt;td>1750.0&lt;/td>
&lt;td>1200.0&lt;/td>
&lt;td>750.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2.1&lt;/td>
&lt;td>380.0&lt;/td>
&lt;td>1775.0&lt;/td>
&lt;td>1220.0&lt;/td>
&lt;td>725.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2.2&lt;/td>
&lt;td>360.0&lt;/td>
&lt;td>1800.0&lt;/td>
&lt;td>1240.0&lt;/td>
&lt;td>700.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2.3&lt;/td>
&lt;td>340.0&lt;/td>
&lt;td>1825.0&lt;/td>
&lt;td>1260.0&lt;/td>
&lt;td>675.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2.4&lt;/td>
&lt;td>320.0&lt;/td>
&lt;td>1850.0&lt;/td>
&lt;td>1280.0&lt;/td>
&lt;td>650.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2.5&lt;/td>
&lt;td>300.0&lt;/td>
&lt;td>1875.0&lt;/td>
&lt;td>1300.0&lt;/td>
&lt;td>625.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2.6&lt;/td>
&lt;td>280.0&lt;/td>
&lt;td>1900.0&lt;/td>
&lt;td>1320.0&lt;/td>
&lt;td>600.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2.7&lt;/td>
&lt;td>260.0&lt;/td>
&lt;td>1925.0&lt;/td>
&lt;td>1340.0&lt;/td>
&lt;td>575.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2.8&lt;/td>
&lt;td>240.0&lt;/td>
&lt;td>1950.0&lt;/td>
&lt;td>1360.0&lt;/td>
&lt;td>550.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2.9&lt;/td>
&lt;td>220.0&lt;/td>
&lt;td>1975.0&lt;/td>
&lt;td>1380.0&lt;/td>
&lt;td>525.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3.0&lt;/td>
&lt;td>200.0&lt;/td>
&lt;td>2000.0&lt;/td>
&lt;td>1400.0&lt;/td>
&lt;td>500.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3.1&lt;/td>
&lt;td>180.0&lt;/td>
&lt;td>2025.0&lt;/td>
&lt;td>1420.0&lt;/td>
&lt;td>475.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3.2&lt;/td>
&lt;td>160.0&lt;/td>
&lt;td>2050.0&lt;/td>
&lt;td>1440.0&lt;/td>
&lt;td>450.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3.3&lt;/td>
&lt;td>140.0&lt;/td>
&lt;td>2075.0&lt;/td>
&lt;td>1460.0&lt;/td>
&lt;td>425.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3.4&lt;/td>
&lt;td>120.0&lt;/td>
&lt;td>2100.0&lt;/td>
&lt;td>1480.0&lt;/td>
&lt;td>400.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3.5&lt;/td>
&lt;td>100.0&lt;/td>
&lt;td>2125.0&lt;/td>
&lt;td>1500.0&lt;/td>
&lt;td>375.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3.6&lt;/td>
&lt;td>80.0&lt;/td>
&lt;td>2150.0&lt;/td>
&lt;td>1520.0&lt;/td>
&lt;td>350.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3.7&lt;/td>
&lt;td>60.0&lt;/td>
&lt;td>2175.0&lt;/td>
&lt;td>1540.0&lt;/td>
&lt;td>325.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3.8&lt;/td>
&lt;td>40.0&lt;/td>
&lt;td>2200.0&lt;/td>
&lt;td>1560.0&lt;/td>
&lt;td>300.0&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>3.9&lt;/td>
&lt;td>20.0&lt;/td>
&lt;td>2225.0&lt;/td>
&lt;td>1580.0&lt;/td>
&lt;td>275.0&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>这样，通过恰当地选择做多和做空杠杆，可以使做空和做多的回撤接近。比如说，同样是在1000到1250之间运动，做空2.5倍的最大亏损与做多0.9倍类似。如果在两个方向都使用2.5倍杠杆，可能会造成不必要的损失。&lt;/p>
&lt;p>——当然，以上分析对比特币狂信者来说并没有什么意义。&lt;/p>
&lt;div class="footnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:pizza">无意冒犯，这里的实际价值指的是能够换多少个比萨饼。
&lt;a class="footnote-return" href="#fnref:pizza">&lt;sup>[return]&lt;/sup>&lt;/a>&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>这次是纽约公共图书馆……而且居然还有第三部分？</title><link>https://blog.heysh.xyz/2018/02/24/nypl3/</link><pubDate>Sat, 24 Feb 2018 00:03:59 +0800</pubDate><guid>https://blog.heysh.xyz/2018/02/24/nypl3/</guid><description>&lt;blockquote>
&lt;p>在图书馆的第三天，到了废纸回收环节&lt;/p>
&lt;/blockquote>
&lt;p>之前下到了一叠厚厚的&lt;a href="https://digitalcollections.nypl.org/collections/trait-des-arbres-et-arbustes-que-lon-cultive-en-france-en-pleine-terre#/?tab=about">图集&lt;/a>，可是要真正用起来，还需要一点点简单的处理，比如说，沿着边线把图案剪下来：
&lt;figure>&lt;img src="https://blog.heysh.xyz/nypl/before.jpg"/>&lt;figcaption>
&lt;h4>加工前&lt;/h4>
&lt;/figcaption>
&lt;/figure>
&lt;figure>&lt;img src="https://blog.heysh.xyz/nypl/after.png"/>&lt;figcaption>
&lt;h4>加工后&lt;/h4>
&lt;/figcaption>
&lt;/figure>
&lt;/p>
&lt;p>通过一些简单的图形学处理就可以完成这项任务，当然，对于不懂画画的乡巴佬（我），要读好多&lt;code>skimage&lt;/code>的教程才能搞定——总之，我把折腾的结果传到了&lt;a href="https://github.com/heyeshuang/Trait-des-arbres-et-arbustes-que-l-on-cultive-en-France-en-pleine-terre/">github&lt;/a>上，包括：&lt;/p>
&lt;ul>
&lt;li>如何在&lt;code>jupyter notebook&lt;/code>里&lt;a href="https://github.com/heyeshuang/Trait-des-arbres-et-arbustes-que-l-on-cultive-en-France-en-pleine-terre/blob/master/sobel.ipynb">剪好一张图&lt;/a>&lt;/li>
&lt;li>然后改成&lt;a href="https://github.com/heyeshuang/Trait-des-arbres-et-arbustes-que-l-on-cultive-en-France-en-pleine-terre/blob/master/sobel-batch.ipynb">批量修改的版本&lt;/a>&lt;/li>
&lt;li>以及&lt;a href="https://github.com/heyeshuang/Trait-des-arbres-et-arbustes-que-l-on-cultive-en-France-en-pleine-terre/tree/master/batch/France">原图&lt;/a>和修改之后的&lt;a href="https://github.com/heyeshuang/Trait-des-arbres-et-arbustes-que-l-on-cultive-en-France-en-pleine-terre/tree/master/france">结果&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>欢迎下载、使用、或者拿去卖钱，反正是公有领域。&lt;/p></description></item><item><title>这次是纽约公共图书馆……的第二天！</title><link>https://blog.heysh.xyz/2018/02/22/nypl2/</link><pubDate>Thu, 22 Feb 2018 16:03:59 +0800</pubDate><guid>https://blog.heysh.xyz/2018/02/22/nypl2/</guid><description>&lt;blockquote>
&lt;p>（精神上）坐在图书馆里，我想：能不能把这些旧书借走呢？&lt;/p>
&lt;/blockquote>
&lt;p>当然是可以的！贴心的图书管理员已经提供了API接口：&lt;a href="http://api.repo.nypl.org/">http://api.repo.nypl.org/&lt;/a>，申请账号之后，就可以做各种各样的事了~&lt;/p>
&lt;p>当然，如果只是想下片的话，用&lt;a href="https://github.com/NYPL-publicdomain/api-client">digital-collections&lt;/a>可能会更简单一些：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">digital-collections -t API_TOKEN -s UUID -o OUTPUT.json
&lt;/code>&lt;/pre>&lt;/div>&lt;p>其中，&lt;code>API_TOKEN&lt;/code>在申请账号以后会得到一个；在你想要下载的专辑（&lt;a href="https://digitalcollections.nypl.org/collections/a-curious-herbal-containing-five-hundred-cuts-of-the-most-useful-plants-which#/?tab=about&amp;amp;scroll=50">比如这个&lt;/a>）下面，可以看到&lt;code>UUID&lt;/code>；运行这条命令之后，图片的信息列表会保存在&lt;code>OUTPUT.json&lt;/code>里。&lt;/p>
&lt;figure>&lt;img src="https://blog.heysh.xyz/nypl/clip.png"/>&lt;figcaption>
&lt;h4>对，就是那个Universal Unique Identifier&lt;/h4>
&lt;/figcaption>
&lt;/figure>
&lt;p>之后，获得的json文件大概像是这样：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-json" data-lang="json">{
&lt;span style="color:#309;font-weight:bold">&amp;#34;uuid&amp;#34;&lt;/span>: &lt;span style="color:#c30">&amp;#34;510d47dd-c1f5-a3d9-e040-e00a18064a99&amp;#34;&lt;/span>,
&lt;span style="color:#309;font-weight:bold">&amp;#34;imageLinks&amp;#34;&lt;/span>: {
&lt;span style="color:#309;font-weight:bold">&amp;#34;imageLink&amp;#34;&lt;/span>: [
&lt;span style="color:#c30">&amp;#34;http://images.nypl.org/index.php?id=1125721&amp;amp;t=w&amp;amp;download=1&amp;amp;suffix=510d47dd-c1f5-a3d9-e040-e00a18064a99.001&amp;#34;&lt;/span>,
&lt;span style="color:#c30">&amp;#34;http://images.nypl.org/index.php?id=1125721&amp;amp;t=r&amp;amp;download=1&amp;amp;suffix=510d47dd-c1f5-a3d9-e040-e00a18064a99.001&amp;#34;&lt;/span>,
&lt;span style="color:#c30">&amp;#34;http://images.nypl.org/index.php?id=1125721&amp;amp;t=t&amp;amp;download=1&amp;amp;suffix=510d47dd-c1f5-a3d9-e040-e00a18064a99.001&amp;#34;&lt;/span>,
&lt;span style="color:#c30">&amp;#34;http://images.nypl.org/index.php?id=1125721&amp;amp;t=b&amp;amp;download=1&amp;amp;suffix=510d47dd-c1f5-a3d9-e040-e00a18064a99.001&amp;#34;&lt;/span>,
&lt;span style="color:#c30">&amp;#34;http://images.nypl.org/index.php?id=1125721&amp;amp;t=f&amp;amp;download=1&amp;amp;suffix=510d47dd-c1f5-a3d9-e040-e00a18064a99.001&amp;#34;&lt;/span>
]
},
&lt;span style="color:#309;font-weight:bold">&amp;#34;apiUri&amp;#34;&lt;/span>: &lt;span style="color:#c30">&amp;#34;http://api.repo.nypl.org/api/v1/items/mods/510d47dd-c1f5-a3d9-e040-e00a18064a99&amp;#34;&lt;/span>,
&lt;span style="color:#309;font-weight:bold">&amp;#34;typeOfResource&amp;#34;&lt;/span>: &lt;span style="color:#c30">&amp;#34;still image&amp;#34;&lt;/span>,
&lt;span style="color:#309;font-weight:bold">&amp;#34;imageID&amp;#34;&lt;/span>: &lt;span style="color:#c30">&amp;#34;1125721&amp;#34;&lt;/span>,
&lt;span style="color:#309;font-weight:bold">&amp;#34;sortString&amp;#34;&lt;/span>: &lt;span style="color:#c30">&amp;#34;0000000001|0000000002|0000000001&amp;#34;&lt;/span>,
&lt;span style="color:#309;font-weight:bold">&amp;#34;itemLink&amp;#34;&lt;/span>: &lt;span style="color:#c30">&amp;#34;http://digitalcollections.nypl.org/items/510d47dd-c1f5-a3d9-e040-e00a18064a99&amp;#34;&lt;/span>,
&lt;span style="color:#309;font-weight:bold">&amp;#34;highResLink&amp;#34;&lt;/span>: &lt;span style="color:#c30">&amp;#34;http://link.nypl.org/7nC9VyT_TJWvGX9_H0mYBQ8&amp;#34;&lt;/span>,
&lt;span style="color:#309;font-weight:bold">&amp;#34;title&amp;#34;&lt;/span>: &lt;span style="color:#c30">&amp;#34;Dandelion.&amp;#34;&lt;/span>,
&lt;span style="color:#309;font-weight:bold">&amp;#34;dateDigitized&amp;#34;&lt;/span>: &lt;span style="color:#c30">&amp;#34;2016-08-04T04:53:12Z&amp;#34;&lt;/span>,
&lt;span style="color:#309;font-weight:bold">&amp;#34;rightsStatement&amp;#34;&lt;/span>: &lt;span style="color:#c30">&amp;#34;The New York Public Library believes that this item is in the public domain under the laws of the United States, but did not make a determination as to its copyright status under the copyright laws of other countries. This item may not be in the public domain under the laws of other countries. Though not required, if you want to credit us as the source, please use the following statement, \&amp;#34;From The New York Public Library,\&amp;#34; and provide a link back to the item on our Digital Collections site. Doing so helps us track how our collection is used and helps justify freely releasing even more content in the future.&amp;#34;&lt;/span>,
&lt;span style="color:#309;font-weight:bold">&amp;#34;rightsStatementURI&amp;#34;&lt;/span>: &lt;span style="color:#c30">&amp;#34;http://rightsstatements.org/vocab/NoC-US/1.0/&amp;#34;&lt;/span>
}
&lt;/code>&lt;/pre>&lt;/div>&lt;p>之后，只要下载&lt;code>imageLink&lt;/code>就好了。我用了一个简单的python脚本来做这件事。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-python" data-lang="python">&lt;span style="color:#09f;font-style:italic"># 注意：这玩意没有经过测试，可能会爆炸&lt;/span>
&lt;span style="color:#09f;font-style:italic"># 啊对了，而且是python3.6&lt;/span>
&lt;span style="color:#069;font-weight:bold">import&lt;/span> &lt;span style="color:#0cf;font-weight:bold">urllib.request&lt;/span> &lt;span style="color:#069;font-weight:bold">as&lt;/span> &lt;span style="color:#0cf;font-weight:bold">ur&lt;/span>
&lt;span style="color:#069;font-weight:bold">import&lt;/span> &lt;span style="color:#0cf;font-weight:bold">json&lt;/span>
&lt;span style="color:#069;font-weight:bold">import&lt;/span> &lt;span style="color:#0cf;font-weight:bold">os&lt;/span>
dir_name&lt;span style="color:#555">=&lt;/span>&lt;span style="color:#c30">&amp;#34;Himalayan_plants&amp;#34;&lt;/span> &lt;span style="color:#09f;font-style:italic">#可能要改这里……&lt;/span>
os&lt;span style="color:#555">.&lt;/span>mkdir(dir_name)
&lt;span style="color:#069;font-weight:bold">with&lt;/span> &lt;span style="color:#366">open&lt;/span>(&lt;span style="color:#c30">&amp;#34;OUTPUT.json&amp;#34;&lt;/span>,&lt;span style="color:#c30">&amp;#34;r&amp;#34;&lt;/span>) &lt;span style="color:#069;font-weight:bold">as&lt;/span> source: &lt;span style="color:#09f;font-style:italic">#……还有这里&lt;/span>
source_dict&lt;span style="color:#555">=&lt;/span>json&lt;span style="color:#555">.&lt;/span>load(source)
&lt;span style="color:#069;font-weight:bold">for&lt;/span> _i,_s &lt;span style="color:#000;font-weight:bold">in&lt;/span> &lt;span style="color:#366">enumerate&lt;/span>(source_dict):
file_name&lt;span style="color:#555">=&lt;/span>dir_name&lt;span style="color:#555">+&lt;/span>&lt;span style="color:#c30">&amp;#34;/&amp;#34;&lt;/span>&lt;span style="color:#555">+&lt;/span>&lt;span style="color:#366">str&lt;/span>(_i)&lt;span style="color:#555">+&lt;/span>&lt;span style="color:#c30">&amp;#34;.jpg&amp;#34;&lt;/span>
&lt;span style="color:#069;font-weight:bold">if&lt;/span> os&lt;span style="color:#555">.&lt;/span>path&lt;span style="color:#555">.&lt;/span>exists(file_name)&lt;span style="color:#555">==&lt;/span>&lt;span style="color:#069;font-weight:bold">False&lt;/span>:
&lt;span style="color:#069;font-weight:bold">try&lt;/span>:
ur&lt;span style="color:#555">.&lt;/span>urlretrieve(_s[&lt;span style="color:#c30">&amp;#34;imageLinks&amp;#34;&lt;/span>][&lt;span style="color:#c30">&amp;#34;imageLink&amp;#34;&lt;/span>][&lt;span style="color:#f60">0&lt;/span>],file_name)
&lt;span style="color:#069;font-weight:bold">except&lt;/span> &lt;span style="color:#c00;font-weight:bold">Exception&lt;/span> &lt;span style="color:#069;font-weight:bold">as&lt;/span> e:
&lt;span style="color:#366">print&lt;/span>(_i)
&lt;span style="color:#366">print&lt;/span>(&lt;span style="color:#366">str&lt;/span>(e))
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>这次是纽约公共图书馆……</title><link>https://blog.heysh.xyz/2018/02/21/nypl/</link><pubDate>Wed, 21 Feb 2018 22:03:59 +0800</pubDate><guid>https://blog.heysh.xyz/2018/02/21/nypl/</guid><description>&lt;blockquote>
&lt;p>是的，我&lt;a href="https://blog.heysh.xyz/2017/09/09/2017-09-03-jour-to-lib/">又&lt;/a>去图书馆了，当然这次和戒网瘾没有什么关系。&lt;/p>
&lt;/blockquote>
&lt;p>纽约公共图书馆建立于1895年，馆藏里有大量古老的资料，古老到超出了版权法的管理范围，进入了&lt;a href="https://en.wikipedia.org/wiki/Public_domain">公有领域&lt;/a>。于是，勤奋的图书管理员们把它们&lt;a href="https://www.nypl.org/blog/2016/01/05/share-public-domain-collections">数字化&lt;/a>，送给了互联网。&lt;/p>
&lt;p>所以，在春节假期，坐在电脑前面，我也可以来一次纽约公共图书馆了——而且是一百年前的！&lt;/p>
&lt;p>&lt;a href="https://digitalcollections.nypl.org/">这里&lt;/a>是数字图书馆的首页。如果是一位上世纪的通才，通晓法文、英文拉丁文和其他鸟语，他一定会感觉像是回到了家里一样；当然，即使像我这样的乡巴佬，看一看泛黄的插画，或许也能得到一些乐趣，比如说：&lt;/p>
&lt;h3 id="看看喜马拉雅山上都长些什么httpsdigitalcollectionsnyplorgcollectionsnature-illustrated-flowers-plants-and-trees-1550-1900tabnavigationroots11c51cb7e0-c6ba-012f-206d-3c075448cc4b">&lt;a href="https://digitalcollections.nypl.org/collections/nature-illustrated-flowers-plants-and-trees-1550-1900#/?tab=navigation&amp;amp;roots=11:c51cb7e0-c6ba-012f-206d-3c075448cc4b">看看喜马拉雅山上都长些什么&lt;/a>&lt;/h3>
&lt;figure>&lt;img src="https://blog.heysh.xyz/nypl/nypl.digitalcollections.510d47dc-508a-a3d9-e040-e00a18064a99.001.w.jpg"/>&lt;figcaption>
&lt;h4>嗯，是杂草&lt;/h4>
&lt;/figcaption>
&lt;/figure>
&lt;h3 id="学习下最新的流行风尚httpsdigitalcollectionsnyplorgcollectionsnewest-styles-for-mentababout">&lt;a href="https://digitalcollections.nypl.org/collections/newest-styles-for-men#/?tab=about">学习下最新的流行风尚&lt;/a>&lt;/h3>
&lt;figure>&lt;img src="https://blog.heysh.xyz/nypl/nypl.digitalcollections.510d47dd-fea2-a3d9-e040-e00a18064a99.001.w.jpg"/>&lt;figcaption>
&lt;h4>唔哦，好男人&lt;/h4>
&lt;/figcaption>
&lt;/figure>
&lt;h3 id="或者来辆新车httpsdigitalcollectionsnyplorgcollectionsalbum-of-illustrations-of-imperial-royal-state-carriages-together-with-othertababout">&lt;a href="https://digitalcollections.nypl.org/collections/album-of-illustrations-of-imperial-royal-state-carriages-together-with-other#/?tab=about">或者来辆新车？&lt;/a>&lt;/h3>
&lt;figure>&lt;img src="https://blog.heysh.xyz/nypl/nypl.digitalcollections.510d47dd-fd6c-a3d9-e040-e00a18064a99.001.w.jpg"/>&lt;figcaption>
&lt;h4>如果从这时候就开始摇号的话……&lt;/h4>
&lt;/figcaption>
&lt;/figure>
&lt;p>当然，最重要的是，这些资料都是免费的，没有任何版权问题。如果你需要一张可爱的小画儿，这里可能可以提供一点点灵感——或者直接复制也可以，没有（活）人会来找你麻烦的！&lt;/p></description></item><item><title>History Data for Bitcoin and Altcoins</title><link>https://blog.heysh.xyz/2018/01/23/history-data-for-altcoins/</link><pubDate>Tue, 23 Jan 2018 17:31:33 +0800</pubDate><guid>https://blog.heysh.xyz/2018/01/23/history-data-for-altcoins/</guid><description>&lt;p>&lt;a href="https://drive.google.com/file/d/1lp3JkwKLCR_RxI61-jdPcH26UXCnHPuC/view?usp=sharing">Link&lt;/a>&lt;/p>
&lt;p>In this package, you'll find:&lt;/p>
&lt;ul>
&lt;li>History data for Bitcoin price, with highest, lowest and volume, &lt;strong>per hour&lt;/strong>&lt;/li>
&lt;li>Close price for 200+ Altcoins, also &lt;strong>per hour&lt;/strong>&lt;/li>
&lt;li>And the &lt;a href="http://alt19.com/marketindexes.html">Altcoin Market Indices&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Before 2017-12-23.&lt;/p>
&lt;p>These data (and honor) belong to &lt;a href="http://alt19.com">alt19.com&lt;/a>. This website says:&lt;/p>
&lt;blockquote>
&lt;p>Any information on Alt19.com is provided free and &amp;quot;as is&amp;quot; and solely for informational purposes, not for trading purposes or advice, and may be delayed.&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>No action should be taken or omitted to be taken in reliance upon information on this site. Use it AT YOUR OWN RISK&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>Digital currencies may be illegal in your jurisdiction. These are high-risk investments with liquidity risks and other financial risks! Some altcoins are inactive or may become inactive in future. Please do your own research.&lt;/p>
&lt;/blockquote>
&lt;p>I think he/she is right, and, thank for these data.&lt;/p>
&lt;hr>
&lt;p>&lt;a href="https://drive.google.com/file/d/1lp3JkwKLCR_RxI61-jdPcH26UXCnHPuC/view?usp=sharing">Link&lt;/a>&lt;/p>
&lt;p>长话短说，这是比特币/山寨币 &lt;em>每小时&lt;/em> 的历史数据。比如说，要是进行什么数据分析的话，至少会比泰坦尼克号有意思一些吧……&lt;/p>
&lt;p>呃，事情是这样的。在我搜索山寨币的历史数据的时候，常常能看到alt19.com这个网站，但是在8012年，这个网站已经和两千年前的布局不太一样了……&lt;/p>
&lt;p>……当然，这个网站仍然供应小时级别的数据——如果你肯花上一点时间做一点侦察工作的话。对于那些好奇心不是那么严重的用户来说，请直接使用本文最上面的链接；对于另外的人，请不要给那个网站的服务器带来太大压力，当然我也没什么资格说这些。&lt;/p>
&lt;p>另外，就像上面所说的，一切风险请由使用者自己承担。&lt;/p>
&lt;hr>
&lt;p>Edit in 18-03-26: 后来我觉得还是&lt;a href="http://api.bitcoincharts.com/v1/csv/">http://api.bitcoincharts.com/v1/csv/&lt;/a>靠谱一些，当然，不包括山寨币。&lt;/p></description></item><item><title>换了个新域名</title><link>https://blog.heysh.xyz/2017/11/27/2017-11-27-%E6%96%B0%E5%9F%9F%E5%90%8D/</link><pubDate>Mon, 27 Nov 2017 22:59:56 +0800</pubDate><guid>https://blog.heysh.xyz/2017/11/27/2017-11-27-%E6%96%B0%E5%9F%9F%E5%90%8D/</guid><description>&lt;p>距我丢掉&lt;a href="https://blog.heysh.xyz/2016/05/24/%E6%88%91%E4%B8%A2%E6%8E%89%E4%BA%86heysh-tk%E5%9F%9F%E5%90%8D/">heysh.tk&lt;/a>这个域名已经一年多了。在那之后，我失去了对&lt;a href="heyeshuang.tk">tk域名&lt;/a>的信任，趁着换hugo的功夫，直接使用github.io的二级地址。最近，我有了一份工作，手头也宽裕了一些，所以换个域名再次提上了日程。&lt;/p>
&lt;p>我对自己博客的要求是，即使自己哪一天完全忘掉，这里还能存在比较长的一段时间。所以，我希望域名的续费价格尽量低一些——这并不（完全）是因为囊中羞涩。于是，在各个域名商的网站乱转的时候，我的心情颇有点像是在肉联厂门口徘徊的年轻母亲。“Namecheap的.me第一年只要$0.33……可是续费要120一年……”&lt;/p>
&lt;p>最终，是&lt;a href="https://www.namesilo.com/?rid=1586115mc">Namesilo&lt;/a>拯救了我。在&lt;a href="https://www.namesilo.com/pricing.php?rid=1586115mc">pricing&lt;/a>页面，把表格抄走，用Excel或者什么东西排个序，然后再把后面的那些行删掉，可选择的范围就少得多了。&lt;/p>
&lt;p>总而言之，这里的新地址是&lt;a href="https://blog.heysh.xyz/">https://blog.heysh.xyz/&lt;/a>，没有什么特殊的意义，也许会用比较长的一段时间。&lt;/p></description></item><item><title>VPS初始化checklist</title><link>https://blog.heysh.xyz/2017/11/25/2017-11-25-virmach-init/</link><pubDate>Sat, 25 Nov 2017 12:35:54 +0800</pubDate><guid>https://blog.heysh.xyz/2017/11/25/2017-11-25-virmach-init/</guid><description>&lt;p>仅供存档。另外，virmach黑五大减价了，KVM主机5.6$一年美滋滋。&lt;/p>
&lt;p>这是我的邀请链接：&lt;a href="https://billing.virmach.com/aff.php?aff=3032">https://billing.virmach.com/aff.php?aff=3032&lt;/a>，优惠码是&lt;code>2017BFSAVE20&lt;/code>。&lt;/p>
&lt;h2 id="新建用户">新建用户&lt;/h2>
&lt;p>感谢&lt;a href="https://blog.roadofgrowth.com/2015/04/28/e6-96-b0-e8-b4-advps-e5-88-9d-e5-a7-8b-e5-8c-96-e5-ae-89-e5-85-a8-e9-85-8d-e7-bd-ae/">https://blog.roadofgrowth.com/2015/04/28/e6-96-b0-e8-b4-advps-e5-88-9d-e5-a7-8b-e5-8c-96-e5-ae-89-e5-85-a8-e9-85-8d-e7-bd-ae/&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-fallback" data-lang="fallback">adduser hh
gpasswd -a hh sudo
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="添加ssh-key验证并禁用root用户ssh远程登录">添加SSH-KEY验证并禁用root用户SSH远程登录&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-fallback" data-lang="fallback">su - hh
mkdir .ssh
chmod 700 .ssh
vi .ssh/authorized_keys
&lt;/code>&lt;/pre>&lt;/div>&lt;p>在这里粘贴你的公钥。什么？noVNC无法粘贴？我写了篇&lt;a href="https://blog.heysh.xyz/2019/09/22/klipper-autotype/">博文&lt;/a>来解决这个。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-fallback" data-lang="fallback">#vi /etc/ssh/sshd_config
PermitRootLogin no
PasswordAuthentication no
Port 22222
&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">sudo systemctl restart ssh
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="安装配置防火墙-ufw">安装配置防火墙 (ufw)&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-fallback" data-lang="fallback">sudo apt-get update&amp;amp;&amp;amp;sudo apt-get upgrade
sudo apt-get install ufw
sudo ufw allow 22222 #允许SSH
sudo ufw enable
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="安装vim">安装vim&lt;/h2>
&lt;h2 id="安装shadowsocks-libev">安装shadowsocks-libev&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-fallback" data-lang="fallback">sudo sh -c &amp;#39;printf &amp;#34;deb http://httpredir.debian.org/debian jessie-backports main&amp;#34; &amp;gt; /etc/apt/sources.list.d/jessie-backports.list&amp;#39;
sudo apt update
sudo apt -t jessie-backports install shadowsocks-libev
sudo vim /etc/shadowsocks-libev/config.json
sudo ufw allow &amp;lt;PORT&amp;gt;
sudo systemctl start shadowsocks-libev
sudo systemctl enable shadowsocks-libev
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="安装4x内核">安装4.x内核&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-fallback" data-lang="fallback">sudo apt-get install -t jessie-backports linux-image-amd64
sudo update-grub
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="启用bbr">启用BBR&lt;/h2>
&lt;p>&lt;a href="https://github.com/iMeiji/shadowsocks_install/wiki/%E5%BC%80%E5%90%AFTCP-BBR%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95#%E5%BC%80%E5%90%AFbbr">https://github.com/iMeiji/shadowsocks_install/wiki/%E5%BC%80%E5%90%AFTCP-BBR%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95#%E5%BC%80%E5%90%AFbbr&lt;/a>&lt;/p></description></item><item><title>利用kcpraw流量加速</title><link>https://blog.heysh.xyz/2017/11/18/2017-11-18-kcpraw-speed-up/</link><pubDate>Sat, 18 Nov 2017 16:36:55 +0800</pubDate><guid>https://blog.heysh.xyz/2017/11/18/2017-11-18-kcpraw-speed-up/</guid><description>&lt;p>&lt;a href="https://blog.heysh.xyz/2015/01/07/shadowsocks%EF%BC%8Cipv6%E5%92%8C%E4%BE%BF%E5%AE%9C%E7%9A%84vps/">2015年&lt;/a>和&lt;a href="https://blog.heysh.xyz/2016/10/25/shadowsocks-2016-%E4%B8%80%E6%AC%A1%E6%80%A7%E8%AE%A4%E8%AF%81%EF%BC%8Ckcp%E5%8F%8A%E5%85%B6%E4%BB%96/">2016年&lt;/a>，我写过两篇关于 &lt;em>科学上网&lt;/em> 的博客，之后，又在VPS上安装了&lt;a href="https://v2ray.com/">v2ray&lt;/a>，这个应用直接支持mKCP，在丢包严重的网络环境下效果不错。&lt;/p>
&lt;p>然后是最近，为了贯彻**大精神，实现什么什么自信的目标，KCP依赖的udp包被自信的家伙们无情地屏蔽了。在标准的shadowsocks和使用websocket的v2ray下，网速在50k左右，我感觉自己的网瘾又要发作了——&lt;/p>
&lt;p>以上是背景。&lt;/p>
&lt;p>虽然UDP被屏蔽了，但是TCP暂时还幸免于难，所以，可以把UDP包伪装成TCP的样子来绕过检查。有两个程序可以实现这种功能：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/wangyu-/udp2raw-tunnel">udp2raw&lt;/a>，可以将所有UDP包整容成TCP的样子，不过这个程序在Windows下有些问题，而且最近Firefox的一堆破事让我不太想用Linux了；&lt;/li>
&lt;li>&lt;a href="https://github.com/ccsexyz/kcpraw">kcpraw&lt;/a>，是原始kcptun的fork，和kcptun的用法类似，在Windows下只需要安装&lt;a href="https://www.winpcap.org/install/default.htm">winpcap&lt;/a>就可以用。&lt;/li>
&lt;/ul>
&lt;p>在这里使用kcpraw包装原来shadowsocks的流量（纯粹是因为virtualbox没配好用不了udp2raw），假设读者有基本的linux知识并已经部署了shadowsocks。&lt;/p>
&lt;h2 id="服务器端">服务器端&lt;/h2>
&lt;h3 id="下载kcpraw">下载kcpraw&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-fallback" data-lang="fallback">mkdir ~/kcpraw
cd ~/kcpraw
wget https://github.com/ccsexyz/kcpraw/releases/download/v20171019/kcpraw-linux-amd64-20171021.tar.gz
tar zxvf kcpraw-linux-amd64-20171021.tar.gz
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="在后台开启kcpraw">在后台开启kcpraw&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-fallback" data-lang="fallback"> sudo -b nohup ~/kcpraw/kcpraw_server_linux_amd64 -t &amp;#34;127.0.0.1:443&amp;#34; -l &amp;#34;:8388&amp;#34; -mode fast2 &amp;amp;
&lt;/code>&lt;/pre>&lt;/div>&lt;p>其中，&lt;code>443&lt;/code>是要包装的shadowsocks端口，同时，&lt;code>8388&lt;/code>是kcpraw使用的端口，请保证服务器防火墙允许&lt;code>8388&lt;/code>端口通过。&lt;/p>
&lt;h2 id="客户端">客户端&lt;/h2>
&lt;h3 id="安装winpcap如果客户端是windows的话">安装winpcap（如果客户端是Windows的话）&lt;/h3>
&lt;p>对于最新版本的Windows10，原版的&lt;code>winpcap&lt;/code>和&lt;code>win10pcap&lt;/code>似乎都不能用，可以使用兼容的&lt;a href="https://github.com/nmap/npcap">npcap&lt;/a>。&lt;/p>
&lt;h3 id="运行kcpraw">运行kcpraw&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-fallback" data-lang="fallback">kcpraw_client_windows_amd64 -r &amp;#34;&amp;lt;服务器IP&amp;gt;:8388&amp;#34; -l &amp;#34;:1082&amp;#34; -mode fast2
&lt;/code>&lt;/pre>&lt;/div>&lt;p>其中&lt;code>1082&lt;/code>是设定的本地kcpraw端口。&lt;/p>
&lt;h3 id="修改shadowsocks客户端配置">修改shadowsocks客户端配置&lt;/h3>
&lt;p>在你使用的客户端中把服务器地址设为&lt;code>localhost:1082&lt;/code>，其余不变，即可使shadowsocks享受KCP加速。&lt;/p>
&lt;p>天气越来越冷，似乎离互联网白名单也越来越近了。到那时，我可能会换一个爱好，比如做一个伟大的白日梦什么的。&lt;/p></description></item><item><title>更琐碎的编辑器细节 / Some more trival details about Steemit</title><link>https://blog.heysh.xyz/2017/10/14/about-steemit-editor/</link><pubDate>Sat, 14 Oct 2017 23:04:00 +0800</pubDate><guid>https://blog.heysh.xyz/2017/10/14/about-steemit-editor/</guid><description>&lt;p>Steemit的前端代码在&lt;a href="https://github.com/steemit/condenser/">https://github.com/steemit/condenser/&lt;/a>，读一读它的源代码，可以了解一些关于编辑器的技术细节。&lt;/p>
&lt;h2 id="排版问题">排版问题&lt;/h2>
&lt;h3 id="markdown">Markdown&lt;/h3>
&lt;p>Steemit里所有的markdown指南都指向&lt;a href="https://guides.github.com/features/mastering-markdown/">https://guides.github.com/features/mastering-markdown/&lt;/a>，但其实并没有实现其中所有的功能。大体上，使用其中标准的 &lt;em>Basic syntax&lt;/em> （或者叫做&lt;code>CommonMark&lt;/code>）是比较安全的，但github favor的部分就说不定了。&lt;/p>
&lt;p>&lt;a href="https://github.com/steemit/condenser/blob/8a4e470fea6a34a9e19f8598c5261fd414d96fa8/src/app/components/cards/MarkdownViewer.jsx">编辑器&lt;/a>使用的markdown渲染库是&lt;a href="https://github.com/jonschlinkert/remarkable">remarkable&lt;/a>。除了基本语法以外，只支持&lt;a href="https://github.com/jonschlinkert/remarkable/#syntax-extensions">脚注、删除线和表格&lt;/a>等一些基本的语法，而且现在脚注的实现还有些问题。没有 &lt;strong>代码高亮&lt;/strong> ，更没有 &lt;strong>数学公式渲染&lt;/strong> ，可能这东西并不是面对我们这样的用户。&lt;/p>
&lt;p>&lt;a href="https://steemit.com/wpcommunity/@sean0010/markdown-test">这里&lt;/a>是关于高级markdown特性的测试。从&lt;a href="https://steemd.com/wpcommunity/@sean0010/markdown-test">这里&lt;/a>可以看到其源码。&lt;/p>
&lt;p>顺便一提，我用的&lt;code>hugo&lt;/code>静态博客生成器使用&lt;code>blackfriday&lt;/code>，配置项很多，我十分满意。&lt;/p>
&lt;h3 id="那么用html实现高级功能呢">那么用HTML实现高级功能呢？&lt;/h3>
&lt;p>很遗憾，这也不大可能。经过&lt;a href="https://github.com/steemit/condenser/blob/4d9c1d8f76366097d9a7159b1760f51d45201eb0/src/app/utils/SanitizeConfig.js">sanitize&lt;/a>过滤，编辑器只支持以下几个标签：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-fallback" data-lang="fallback">div, iframe, del,
a, p, b, i, q, br, ul, li, ol, img,
h1, h2, h3, h4, h5, h6, hr,
blockquote, pre, code, em, strong, center,
table, thead, tbody, tr, th, td,
strike, sup, sub
&lt;/code>&lt;/pre>&lt;/div>&lt;p>并没有什么超过Markdown语法的新功能。&lt;/p>
&lt;p>当然，编辑器好心地提供了几个class来控制文字和图像的位置：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-fallback" data-lang="fallback">&amp;#39;pull-right&amp;#39;, &amp;#39;pull-left&amp;#39;, &amp;#39;text-justify&amp;#39;, &amp;#39;text-rtl&amp;#39;, &amp;#39;text-center&amp;#39;, &amp;#39;text-right&amp;#39;, &amp;#39;videoWrapper&amp;#39;
&lt;/code>&lt;/pre>&lt;/div>&lt;p>用法大概是 &lt;code>&amp;lt; div class=&amp;quot;pull-right&amp;quot;&amp;gt; &amp;lt; img src=&amp;quot;imglink&amp;quot; /&amp;gt;&amp;lt; /div &amp;gt;&lt;/code>，或者看&lt;a href="https://steemit.com/steemit/@primus/how-to-use-new-hidden-steemit-features-for-custom-formatting-within-post-content-floating-right-left-and-justifying">这里&lt;/a>的介绍。&lt;/p>
&lt;h2 id="文章的url生成原理">文章的URL生成原理&lt;/h2>
&lt;p>如果我在发布之前就知道文章的URL的话，就可以在文中引用自己了。这大概是一种自举 ;-)&lt;/p>
&lt;p>如果你的文章标题是纯中文的话就很简单了：地址是随机的。所以最好在标题里加上些英文（虽然看起来有点蠢）。&lt;/p>
&lt;p>URL通过&lt;a href="https://github.com/pid/speakingurl">speakingurl&lt;/a>生成。比如，本文标题经过处理（过程见&lt;a href="https://jsfiddle.net/heyeshuang/6p7n7dks/1/">此处&lt;/a>），得到&lt;code>some-more-trival-details-about-steemit&lt;/code>，如果我之前没有发过同名文章的话，本文的URL就是&lt;a href="https://steemit.com/cn/@heyeshuang/some-more-trival-details-about-steemit">https://steemit.com/cn/@heyeshuang/some-more-trival-details-about-steemit&lt;/a>，大概。&lt;/p>
&lt;p>&lt;a href="https://github.com/steemit/condenser/blob/164144aa2c57c12b136eb9c3d7fe46d930dfda04/src/app/redux/TransactionSaga.js#L412-L442">这里&lt;/a>是源代码中具体的实现函数，适合像我这样刻薄的人。&lt;/p></description></item><item><title>对Steem的一些细节考察 / A closer look to Steem</title><link>https://blog.heysh.xyz/2017/10/08/about-steem/</link><pubDate>Sun, 08 Oct 2017 22:56:21 +0800</pubDate><guid>https://blog.heysh.xyz/2017/10/08/about-steem/</guid><description>&lt;h2 id="我的文章保存在哪里会保存多久">我的文章保存在哪里？会保存多久？&lt;/h2>
&lt;p>&lt;strong>保存在各个矿工 (Miner / Witness Node) 的区块链上；很可能是永久保存。&lt;/strong>&lt;/p>
&lt;p>和大多数区块链技术一样，一个矿工必须有完整的节点信息才可以进行挖矿。当然，具体的挖矿形式有一些区别，steem不需要超强的计算能力去破解hash，但是要求很低的网络延迟。&lt;/p>
&lt;p>这听起来好像跟&lt;a href="https://ipfs.io">IPFS&lt;/a>和&lt;a href="https://zeronet.io/">ZeroNet&lt;/a>差不多。分布式存储并不是什么新鲜事物，很久以前的bittorrent，emule什么的就已经做到了，但是问题是什么呢？&lt;/p>
&lt;p>当你上网去寻找一份200x年的、并不是十分热门的资料，但是只找到一个种子的时候，问题就出现了：这份信息被网络所遗忘了，也就是说，它死掉了。一份信息的死亡，并不是因为它自己有什么问题，只是因为不够红而已。&lt;/p>
&lt;p>当然，如果你恰巧拥有（原来的）迅雷会员，故事又将另当别论。在这个方面，商业公司比分布式存储更善良，或者说，记忆力更好。但是，当商业公司倒闭/转型/关闭离线下载服务的时候，我们就只能去爬虫的巢穴碰运气了。&lt;/p>
&lt;p>举个例子。在&lt;a href="http://www.rongshuxia.com/">榕树下&lt;/a>如日中天，起点还没有出现的时候，我曾经看到过一篇名为《魂系大榕树》的知青文学，那种生活深深吸引了年幼的我。但是，这几天我再去找的时候，榕树下早已不复当时的枝繁叶茂，而且那篇文字，名字改成了《榕树魂》，散落在了互联网的各个角落。&lt;/p>
&lt;p>听起来十分先进的IPFS和ZeroNet似乎并没有解决这个问题。现在，ZeroNet上搭建的一些网站已经无法访问了。但是，虽然Steem的评分规则也极端倾向热门文章，但这种技术确实让我看到了冷门信息生存的希望：&lt;/p>
&lt;ul>
&lt;li>Steem是以一个整体存储的，区块链技术保证了这一点。即使是大鲸的文章也是一样。&lt;/li>
&lt;li>Steem主要保存文字内容，这并不是什么优点，但可以称为一种妥协。
&lt;ul>
&lt;li>截止到2017.9.25日，整个Steem链子的体积大概是43GB（&lt;a href="https://steemit.com/steem/@crokkon/steem-blockchain-size">来源&lt;/a>），考虑到一张双层蓝光光碟的容量大概是50Gb，这并不是一个很大的数字。&lt;/li>
&lt;li>作为一个小小的提醒，现在Steemit上的图片都保存在&lt;a href="https://steemitimages.com/">https://steemitimages.com/&lt;/a>这个服务器上。&lt;a href="https://steemit.com/censorship/@mynameisbrian/storing-images-on-the-steem-blockchain-censorship-resistant-images">有人&lt;/a>正在尝试直接保存在区块链中，对此我持谨慎悲观态度，毕竟已经有文字可以保存了。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>金钱。这个理由真的是太充足了，充足到之前的一切都变得毫无意义。让商业公司变得“善良”的动力，在steem这里也是一样。&lt;/li>
&lt;/ul>
&lt;p>所以，Steem的各位，希望你们能够尽量产出更多的优秀内容，托你们的福，像我们这样不讨人喜欢的家伙们，也可以在互联网上找到一个不会被轻易遗忘的地方。&lt;/p>
&lt;h2 id="那么我可以把自己的博客搬到这里来吗">那么，我可以把自己的博客搬到这里来吗？&lt;/h2>
&lt;p>&lt;strong>对我来说，暂时还不行。&lt;/strong>&lt;/p>
&lt;p>正是因为Steem的记忆力太好，想要抹掉什么几乎不可能，所以很多东西并不适合写在上面。另外，一些 &lt;em>特别&lt;/em> 不讨人喜欢的东西，我也不会放到这里，请移步&lt;a href="https://heyeshuang.github.io/blog">我的博客&lt;/a>。&lt;/p>
&lt;p>气温骤降，我必须更加谨慎一些。&lt;/p>
&lt;h2 id="另外的一些细节">另外的一些细节&lt;/h2>
&lt;p>Steemit使用的markdown解析器是&lt;code>remarkable&lt;/code>，并通过&lt;code>sanitize&lt;/code>对HTML进行清洁。更加精细的排版问题，我会另外找时间尝试一下。&lt;/p></description></item><item><title>Brave New World: Firefox to Quantum</title><link>https://blog.heysh.xyz/2017/10/01/firefox-to-quantum/</link><pubDate>Sun, 01 Oct 2017 10:29:28 +0800</pubDate><guid>https://blog.heysh.xyz/2017/10/01/firefox-to-quantum/</guid><description>&lt;p>在把现在的配置导入Waterfox之后，就可以升级Firefox Quantum了。强烈建议用离线模式启动，并取消登陆Firefox账号，防止污染自己的同步内容。&lt;/p>
&lt;p>在&lt;code>不支持的扩展&lt;/code>页面，自带“查找替代品”功能，但是基本没有用，不如&lt;a href="https://docs.google.com/spreadsheets/d/1TFcEXMcKrwoIAECIVyBU0GPoSmRqZ7A0VBvqeKYVSww/edit#gid=0">这个列表&lt;/a>和&lt;a href="http://bbs.kafan.cn/thread-2100445-1-1.html">卡饭的帖子&lt;/a>。&lt;/p>
&lt;p>另外，基于WE的扩展页面都有一种廉价感，不像XUL画的窗口那样专业——当然这只是我的偏见。&lt;/p>
&lt;p>新Firefox一个进程的内存用量都快赶上整个Waterfox了，我怀疑这是三星的阴谋。&lt;/p>
&lt;p>等等，servo是不是跟三星有关系来着……&lt;/p>
&lt;p>下面是我安装扩展的完整列表，很长，&lt;del>没有什么用&lt;/del> 可能会有点用&lt;/p>
&lt;h2 id="不兼容的扩展">不兼容的扩展&lt;/h2>
&lt;ul>
&lt;li>&lt;input disabled="" type="checkbox"> Art Project 0.1.5 -&amp;gt; &lt;a href="https://addons.mozilla.org/zh-CN/firefox/addon/free-art-tab/?src=search">Free Art Tab&lt;/a>
&lt;ul>
&lt;li>唔……有一些微妙的差别，我不认为这个算是被替换了&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> AutoPagerize 0.9.17.1 -&amp;gt; PageZipper
&lt;ul>
&lt;li>除了需要手动开启之外，效果意外的还可以&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> Chrome Store Foxified 2.4
&lt;ul>
&lt;li>很急&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> DownThemAll! 3.0.8&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> DownThemAll! AntiContainer 1.5
&lt;ul>
&lt;li>想都不要想，Aria2你好&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> ExHentai Easy 2 0.2.9
&lt;ul>
&lt;li>呜呜呜（sad panda表情）&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> Extension List Dumper 2 1.0.2
&lt;ul>
&lt;li>这个列表就是用这个扩展生成的，生成之后就可以删了&lt;/li>
&lt;li>删了以后就再也没有啦~&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> FireGestures 1.11.1 -&amp;gt; &lt;del>Foxy Gestures&lt;/del> Gesturefy
&lt;ul>
&lt;li>&lt;del>我就随便挑了个安装多的，当然有些方言不一样了，没有什么办法&lt;/del>&lt;/li>
&lt;li>这个更漂亮一些&lt;/li>
&lt;li>而且这个扩展自带存储PDF功能，又少装一个扩展&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> FoxyProxy Standard 4.6.5 -&amp;gt; &lt;a href="https://addons.mozilla.org/en-US/firefox/addon/switchyomega/">Proxy SwitchyOmega&lt;/a>
&lt;ul>
&lt;li>说实话，自从AutoProxy不更新以后，我看这个扩展不爽好久了&lt;/li>
&lt;li>对我来说Proxy SwitchyOmega还更好用一些&lt;/li>
&lt;li>然而PSO在隐私窗口还有些问题&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> gouwudang-price-comparison-tool 3.2.5 -&amp;gt; &lt;a href="https://gwdang.com/app/extension?page=question&amp;amp;guide=bookmark">bookmarklet&lt;/a>
&lt;ul>
&lt;li>这是一个比价扩展，用Bookmarklet可以稍微凑合一下&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> Greasemonkey 3.16 -&amp;gt; Violentmonkey
&lt;ul>
&lt;li>Tempermonkey “Proprietary, poor privacy, has a 'End-User License Agreement' at installation”，他们都这么说了……&lt;/li>
&lt;li>而且我装的那些脚本好像也没有什么能用的了……&lt;/li>
&lt;li>现在的脚本安装网站是 &lt;a href="https://greasyfork.org">https://greasyfork.org&lt;/a> 了啊&lt;/li>
&lt;li>等等，https://sleazyfork.org/zh-CN 是什么鬼（捂脸）&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> Hide Caption Titlebar Plus 3.2.9
&lt;ul>
&lt;li>无理无理&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> Hide Unwanted Results of Google Search 1.6
&lt;ul>
&lt;li>就算是被替代了吧&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> https switch 0.0.3
&lt;ul>
&lt;li>很久没用过了&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> NoSquint Plus 54.0 -&amp;gt; &lt;a href="https://addons.mozilla.org/addon/zoom-page-we/">Zoom Page WE&lt;/a>
&lt;ul>
&lt;li>要缩放整个页面（而不仅仅是文字），按一下&lt;code>alt&lt;/code>键能呼出菜单，然后去掉&lt;code>查看-缩放-仅缩放文字&lt;/code>前面的勾。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> Offline QR generator 1.1.3.1-signed -&amp;gt; &lt;a href="https://addons.mozilla.org/zh-CN/firefox/addon/qr-code-image-generator/?src=api">QR Code Image Generator&lt;/a>
&lt;ul>
&lt;li>当然，Offline是没有了&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> PentadactylSigned 7307
&lt;ul>
&lt;li>…………………………Saka Key的感觉完全不一样&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> Pocket 1.0.5 -&amp;gt; 自带，而且我不知道我之前还装了这个&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> printpdf 0.76.1-signed.1-signed
&lt;ul>
&lt;li>居然用一个鼠标手势解决了&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> QuickDrag 2.1.3.23.1-signed.1-signed -&amp;gt; Fire Drag
&lt;ul>
&lt;li>当然还是挑了个安装多的&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> ReDisposition 0.3.0
&lt;ul>
&lt;li>这是一个可以解决下载乱码的扩展，原作者muzuiget的博客已经无法访问了，只留下了&lt;a href="https://disqus.com/home/discussion/qixinglu/firefox_redisposition/">disquz的残渣&lt;/a>和一大堆吸血的转载&lt;/li>
&lt;li>这不禁使我担心起本博客的未来&lt;/li>
&lt;li>似乎用&lt;a href="https://github.com/FirefoxBar/HeaderEditor/releases">HeaderEditor&lt;/a>可以实现，不过我还没有试过&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> RefControl 0.8.17.1-signed.1-signed -&amp;gt; [referer control] (&lt;a href="https://addons.mozilla.org/zh-CN/firefox/addon/referercontrol/">https://addons.mozilla.org/zh-CN/firefox/addon/referercontrol/&lt;/a>)
&lt;ul>
&lt;li>看不到希望小学图片……我一点都不遗憾&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> RSS Handler for Feedly 1.0
&lt;ul>
&lt;li>我当时为什么要装这个？&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> ScreenShot Link 2.2.1.1-signed.1-signed
&lt;ul>
&lt;li>这功能居然自带了&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> Tab Mix Plus 0.5.0.4&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> WizNote Web Clipper 1.0.37.1-signed.1-signed -&amp;gt; bookmarklet
&lt;ul>
&lt;li>反正之前也不怎么好用&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> 隐私标签页 0.2.2 -&amp;gt; &lt;a href="https://addons.mozilla.org/zh-CN/firefox/addon/incognito-this-tab/?src=find-replacement">
Incognito This Tab&lt;/a>
&lt;ul>
&lt;li>可是还是不能在同一个窗口打开……哇的一声哭了出来&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="原生web-extension">原生Web Extension&lt;/h2>
&lt;ul>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> Duplicate Tabs Closer 3.0.0&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> Enhanced Steam 9.5&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> Pushbullet 335&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> Redirector 3.1.0
&lt;ul>
&lt;li>是S1大姨妈的时候用的，现在应该没什么用&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> uBlock Origin 1.14.10&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> 二维码扫描器 1.2.3&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> 印象笔记·剪藏 6.12.4&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> 终结内容农场 2.0.2&lt;/li>
&lt;/ul></description></item><item><title>Yesterday Once More: Firefox to Waterfox</title><link>https://blog.heysh.xyz/2017/09/30/firefox-to-waterfox/</link><pubDate>Sat, 30 Sep 2017 23:44:33 +0800</pubDate><guid>https://blog.heysh.xyz/2017/09/30/firefox-to-waterfox/</guid><description>&lt;p>&lt;a href="https://www.mozilla.org/en-US/firefox/quantum/">Firefox Quantum&lt;/a>（就是Firefox 57） 发布了 beta 版，主动放弃了&lt;code>XUL&lt;/code>和老版本扩展。我不知道这会不会又是一个“燃烧的平台”，只想体验一下Quantum传说中的新技术——顺便看看和Chrome有什么区别。&lt;/p>
&lt;p>当然，在升级57之前，需要给 Firefox 的状态存个盘。Waterfox是一个很好的选择：&lt;/p>
&lt;ul>
&lt;li>不久前刚刚引入了自己的配置文件，可以和Firefox同时开启；&lt;/li>
&lt;li>对比Pale Moon（另一个Firefox的Fork），分叉时间更晚，对“现代”扩展支持得更好。&lt;/li>
&lt;/ul>
&lt;h2 id="迁移">迁移&lt;/h2>
&lt;p>迁移的过程还是很简单的：只要还没升级到57，就可以用&lt;code>FEBE&lt;/code>扩展进行备份和恢复。注意在恢复到Waterfox的时候（选择“恢复配置”），需要新建一个Profile。&lt;/p>
&lt;h2 id="中文">中文&lt;/h2>
&lt;p>为了显示中文界面，需要安装&lt;a href="https://addons.mozilla.org/en-US/firefox/addon/chinese-simplified-zh-cn-la/versions/">Chinese Simplified (zh-CN) Language Pack&lt;/a>，并访问&lt;code>about:config&lt;/code>，将&lt;code>intl.locale.matchOS&lt;/code>改为&lt;code>true&lt;/code>。这样，&lt;del>Firefox&lt;/del> Waterfox就可以按照系统的语言来显示了。&lt;/p>
&lt;h2 id="pentadactyl">Pentadactyl&lt;/h2>
&lt;p>Waterfox默认开启了多进程模式，会导致&lt;code>Pentadactyl&lt;/code>不能正常工作：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-fallback" data-lang="fallback">Error: Permission denied to access property &amp;#34;length&amp;#34;
&lt;/code>&lt;/pre>&lt;/div>&lt;p>仍然是在&lt;code>about:config&lt;/code>页面，查找&lt;code>browser.tabs.remote.autostart&lt;/code>，把所有找到的项都改成&lt;code>false&lt;/code>。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-fallback" data-lang="fallback">browser.tabs.remote.autostart=false
browser.tabs.remote.autostart.2=false
&lt;/code>&lt;/pre>&lt;/div>&lt;p>OK，保存完成，是时候升级&lt;a href="https://www.mozilla.org/zh-CN/firefox/channel/desktop/#beta">Firefox Quantum&lt;/a>了。&lt;/p>
&lt;p>啊对了，本文同时发在&lt;a href="http://heyeshuang.tk">我的博客&lt;/a>和&lt;a href="https://steemit.com/cn/@heyeshuang/yesterday-once-more-firefox-to-waterfox">Steemit&lt;/a>上。基于时髦的区块链技术，应该会让我的博客活得时间稍微长一点。&lt;/p>
&lt;p>——当然，一些更加私人的东西是只会在我的博客上发的。为了躲避猎人，有时候我需要把自己的脚印扫掉。&lt;/p></description></item><item><title>为什么已经在Word里用M$的EMF格式了，图像还是不清楚？</title><link>https://blog.heysh.xyz/2017/01/13/ms-word-vector-support-sucks/</link><pubDate>Fri, 13 Jan 2017 11:44:43 +0000</pubDate><guid>https://blog.heysh.xyz/2017/01/13/ms-word-vector-support-sucks/</guid><description>&lt;p>把EMF里的所有文字转换成路径就能解决了&lt;/p>
&lt;p>应该是辣鸡windows的文字渲染问题&lt;/p>
&lt;p>&lt;img src="http://p1.bqimg.com/1949/3cdbc7407efbe04a.png" alt="使用前">
&lt;img src="http://p1.bqimg.com/1949/3fc7d26cd830bc93.png" alt="使用后">&lt;/p>
&lt;p>&lt;del>Word的bug在哪里报，挺急的&lt;/del>&lt;/p></description></item><item><title>QArt：更漂亮的QR码</title><link>https://blog.heysh.xyz/2016/06/13/qart-coder%EF%BC%9A%E6%9B%B4%E5%8F%8B%E5%A5%BD%E7%9A%84qr%E7%A0%81/</link><pubDate>Mon, 13 Jun 2016 13:02:36 +0000</pubDate><guid>https://blog.heysh.xyz/2016/06/13/qart-coder%EF%BC%9A%E6%9B%B4%E5%8F%8B%E5%A5%BD%E7%9A%84qr%E7%A0%81/</guid><description>&lt;p>通过在网址后面加#tag，可以让QR码显示成更漂亮（是的，比中间贴膏药还要漂亮）的样子，Russ Cox管这个叫做&lt;a href="http://research.swtch.com/qart">QArt&lt;/a>。&lt;/p>
&lt;p>在线生成网址：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="http://research.swtch.com/qr/draw?i=af2668ff68fd882750f99fbc0d60f26d&amp;amp;url=http%3A%2F%2Fswtch.com%2Fqr">QArt Coder&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://www.qrpixel.com/">QR Pixel&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>效果还是蛮好的：\&lt;/p>
&lt;p>&lt;img src="http://i1.piimg.com/1949/2355d02e6bd4a9a4.png" alt="">&lt;/p>
&lt;p>刚写完，又在中文互联网上找到了另外一种思路：&lt;/p>
&lt;p>&lt;a href="http://spacekid.me/qart-code/">http://spacekid.me/qart-code/&lt;/a>&lt;/p>
&lt;p>似乎更漂亮些的样子，不过对于像素控来说还是喜欢上面这个~&lt;/p></description></item><item><title>野路子科研工具二则</title><link>https://blog.heysh.xyz/2016/03/21/%E9%87%8E%E8%B7%AF%E5%AD%90%E7%A7%91%E7%A0%94%E5%B7%A5%E5%85%B7%E4%BA%8C%E5%88%99/</link><pubDate>Mon, 21 Mar 2016 14:28:29 +0000</pubDate><guid>https://blog.heysh.xyz/2016/03/21/%E9%87%8E%E8%B7%AF%E5%AD%90%E7%A7%91%E7%A0%94%E5%B7%A5%E5%85%B7%E4%BA%8C%E5%88%99/</guid><description>&lt;blockquote>
&lt;p>读书人的事怎能算偷！&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>&lt;del>——小四&lt;/del>&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>&lt;del>——拉比克&lt;/del>&lt;/p>
&lt;/blockquote>
&lt;h2 id="engauge-digitizerhttpdigitizersourceforgenet">&lt;a href="http://digitizer.sourceforge.net/">engauge digitizer&lt;/a>&lt;/h2>
&lt;p>一个图表数字化程序，当你&lt;/p>
&lt;ul>
&lt;li>看到一张图表&lt;/li>
&lt;li>很想要用来做这样的事那样的事&lt;/li>
&lt;li>可是通讯作者又联系不上&lt;/li>
&lt;/ul>
&lt;p>的时候很管用&lt;/p>
&lt;h2 id="scihubhttpsci-hubio">&lt;a href="http://sci-hub.io/">SCIHUB&lt;/a>&lt;/h2>
&lt;p>免费午餐，比图书馆更好吃，用来对付抠门的出版社。&lt;/p>
&lt;h3 id="update">update:&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="http://Sci-Hub.bz">Sci-Hub.bz&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://Sci-Hub.cc">Sci-Hub.cc&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://31.184.194.81">31.184.194.81&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://scihub22266oqcxt.onion">scihub22266oqcxt.onion&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>我有显示器辣</title><link>https://blog.heysh.xyz/2016/02/29/%E6%88%91%E6%9C%89%E6%98%BE%E7%A4%BA%E5%99%A8%E8%BE%A3/</link><pubDate>Mon, 29 Feb 2016 13:46:23 +0000</pubDate><guid>https://blog.heysh.xyz/2016/02/29/%E6%88%91%E6%9C%89%E6%98%BE%E7%A4%BA%E5%99%A8%E8%BE%A3/</guid><description>&lt;p>六年前的Y450在这个暑假挂掉了，获得杂牌SSD一个，屏幕一块，2G内存两条，上古CPU一个。&lt;/p>
&lt;p>屏幕型号是LP140WH1，万能的淘宝上能找到支持的电视主板（搜索V29）。芯片是TSUMV29LU，支持HDMI、差分和VGA，还支持中二度爆表的隐藏菜单；不支持USB视频，不过也无所谓。配套的屏线是所谓的“40P，单6”。如果有像我一样无聊的家伙想知道更多的话，&lt;a href="http://file.datasheet.netdna-cdn.com/PDF/LP140WH1-TLA1-PDF/708049">这里&lt;/a>可以找到屏幕的datasheet——不过没什么用，基本上改改主板设置就行。&lt;/p>
&lt;p>~~于是我现在的书桌长这样：~~照片没了没了~&lt;/p>
&lt;p>多屏可以用ARandR管理。不得不说XFCE下的DPI处理比WIN10和KDE5好的多。&lt;/p>
&lt;p>&lt;del>另外这篇博客是凑字数用的&lt;/del>&lt;/p></description></item><item><title>pentadactyl 和 Firefox 43</title><link>https://blog.heysh.xyz/2015/12/17/pentadactyl_n_firefox_43/</link><pubDate>Thu, 17 Dec 2015 13:03:26 +0000</pubDate><guid>https://blog.heysh.xyz/2015/12/17/pentadactyl_n_firefox_43/</guid><description>&lt;p>UPDATE:
&lt;a href="https://addons.mozilla.org/en-US/firefox/addon/pentadactyl-nightly-unofficial/">https://addons.mozilla.org/en-US/firefox/addon/pentadactyl-nightly-unofficial/&lt;/a>别人的第三方编译版本&lt;/p>
&lt;hr>
&lt;p>TL;DW: &lt;a href="http://pan.baidu.com/s/1jH0zrhG">百度盘&lt;/a>，&lt;a href="https://drive.google.com/file/d/0B5jbrghmIinDU1gtdGdHVG40WFk/view?usp=sharing">GOOGLE DRIVE&lt;/a>，编译好，签过名的版本，MaxVersion改到44；当然，不负任何责任。&lt;/p>
&lt;p>众所周知，pentadacytl的&lt;a href="http://5digits.org/nightlies">nightly build&lt;/a>已经坏掉好久了，现在的build在&lt;a href="https://github.com/ffledgling/dactyl-build/releases">GitHub&lt;/a>上，通过Travis CI编译，不明真相的我看得一愣一愣的。&lt;/p>
&lt;p>另外，Firefox 43要求强制签名，幸好步骤还是挺简单的，先在install.rdf里把&lt;code>em:id=&amp;quot;pentadactyl@mod&amp;quot;&lt;/code>随便改一下，然后去&lt;a href="https://addons.mozilla.org/zh-CN/developers/addon/submit/2">这里&lt;/a>上传就行了。别忘了把“不要在此网站上展示我的附加组件”勾上。&lt;/p>
&lt;p>另外，firefox也发布了签名工具&lt;a href="https://developer.mozilla.org/en-US/Add-ons/SDK/Tools/jpm#jpm_sign">jpm&lt;/a>，好像也可以放到Travis CI里面……&lt;/p></description></item><item><title>firefox主页被绑架</title><link>https://blog.heysh.xyz/2013/05/28/firefox%E4%B8%BB%E9%A1%B5%E8%A2%AB%E7%BB%91%E6%9E%B6/</link><pubDate>Tue, 28 May 2013 08:48:31 +0000</pubDate><guid>https://blog.heysh.xyz/2013/05/28/firefox%E4%B8%BB%E9%A1%B5%E8%A2%AB%E7%BB%91%E6%9E%B6/</guid><description>&lt;p>如果你的firefox首页被绑架了（我是被dyy55），请不要像我一样&lt;strong>恼羞成怒&lt;/strong>，抱着“就是不让你挣钱”的扭曲心态，直接修改&lt;code>C:\Windows\System32\drivers\etc\hosts&lt;/code>加上一行：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-fallback" data-lang="fallback">127.0.0.1 ww w.dyy55.c om
&lt;/code>&lt;/pre>&lt;/div>&lt;p>（去掉空格）&lt;/p>
&lt;p>这样虽然有效，但是过于简单粗暴（But I’m lovin’ it）&lt;/p>
&lt;p>更加优雅的答案是去修改&lt;code>C:\Users\me\Application Data\Mozilla\Firefox\Profiles\********.default\user.js&lt;/code>，或者直接把这个干掉。&lt;/p>
&lt;p>这件事情告诉我们一个道理，firefox已经不再是一个比较小众的浏览器了；然而linux上仍然没有盗号木马。我不禁陷入了沉思。&lt;/p></description></item><item><title>测试VimRepress</title><link>https://blog.heysh.xyz/2013/05/26/%E6%B5%8B%E8%AF%95vimrepress/</link><pubDate>Sun, 26 May 2013 08:05:33 +0000</pubDate><guid>https://blog.heysh.xyz/2013/05/26/%E6%B5%8B%E8%AF%95vimrepress/</guid><description>&lt;p>&lt;em>本来这时候我是应该滚去写实验报告的但却写了博客&lt;/em>&lt;/p>
&lt;blockquote>
&lt;p>不过大概这种东西应该花不了多久吧\&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>–我这样安慰着自己&lt;/p>
&lt;/blockquote>
&lt;p>总而言之，VimRepress是一个在&lt;strong>VIM&lt;/strong>上用&lt;strong>markdown&lt;/strong>写博客的插件，用于替代已经挂掉的VimPress；&lt;/p>
&lt;p>&lt;a href="http://apt-blog.net/release-of-vimrepress_cn">说明&lt;/a>&lt;/p>
&lt;p>好吧我滚回去写作业……&lt;/p></description></item><item><title>我的云上逃亡，或，google reader的替代品</title><link>https://blog.heysh.xyz/2013/03/29/%E6%88%91%E7%9A%84%E4%BA%91%E4%B8%8A%E9%80%83%E4%BA%A1/</link><pubDate>Fri, 29 Mar 2013 08:47:24 +0000</pubDate><guid>https://blog.heysh.xyz/2013/03/29/%E6%88%91%E7%9A%84%E4%BA%91%E4%B8%8A%E9%80%83%E4%BA%A1/</guid><description>&lt;p>&lt;a href="https://blog.heysh.xyz/2013/02/01/blog%E5%86%8D%E6%AC%A1%E5%A4%8D%E6%B4%BB/">之前&lt;/a>也说过一次，openshift的域名被做掉了，于是这里顶着一个tk招摇过市，就像顶着叶子的狸猫，没有一个搜索引擎能看见。f××k G×W！&lt;/p>
&lt;p>不过这次折腾PaaS是因为Google Reader &lt;em>也&lt;/em> 被干掉了，寻找到以下替代方案：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;a href="https://github.com/samuelclay/NewsBlur">NewsBlur&lt;/a> based on django&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a href="http://tt-rss.org/redmine/projects/tt-rss/wiki">Tiny Tiny RSS&lt;/a> based on PHP&amp;amp;MySQL&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>似乎PHP比较常见的样子，于是准备先试试TT-rss。&lt;/p>
&lt;p>现在的进度是，appfog|CloundFoundry|openshift|dotcloud|heroku的账号集齐了，再加个GAE和主机屋（不要用！很麻烦！），就可以召唤神龙了？&lt;/p>
&lt;p>&lt;del>过会放测试结果，如果没有下文的话，就是我被什么龙给吃掉了～&lt;/del>&lt;/p>
&lt;p>update：直接google找到了&lt;a href="http://projectdelphai.github.com/2013/03/15/replacing-google-reader-with-tt-rss-on-heroku/">这个&lt;/a>，还贴心的放出了&lt;a href="https://github.com/projectdelphai/ttrss-on-heroku/blob/master/ttrss_heroku_setup.sh">脚本&lt;/a>。heroku，就决定是你了！&lt;br>
&lt;a href="http://www.quora.com/Is-there-anything-like-Heroku-I-can-use-for-a-PHP-site">这里&lt;/a>还有一大把PHP云，大概够了？\&lt;/p>
&lt;p>update 2013-3-31:TT-RSS的数据库用量已经达到90%了……另外，又找到两个可能的选择：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;a href="http://fofredux.sourceforge.net/">FoFRedux&lt;/a>似乎已经好久没更新了，还提到了&lt;a href="http://baike.baidu.com/view/236935.htm">Nokia770&lt;/a>，2005年？&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a href="http://getlilina.org/">Lilina&lt;/a>，官网似乎很帅气，而且也不用数据库……~~下次试一下这个？~~一般paas都不支持直接写入……&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>update 2013-04-04 还有：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;a href="http://owncloud.org/">owncloud&lt;/a>，全能型选手，各路大神推荐&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a href="http://selfoss.aditu.de/">selfoss&lt;/a>，要求写入权限，不知道怎么样&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>4-6再次更新：最后（？），在openshift上用脚本搭了ttrss（并绑定了域名），对owncloud采取持续观望的态度。&lt;/p>
&lt;p>5-29 另外：&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/Athou/commafeed">CommaFeed&lt;/a>，并贴心的提供了“Deployment on OpenShift”的教程&lt;/li>
&lt;/ul>
&lt;p>又及：测试VimRepress的编辑能力&lt;/p></description></item><item><title>flask似乎不错</title><link>https://blog.heysh.xyz/2012/09/11/flask%E4%BC%BC%E4%B9%8E%E4%B8%8D%E9%94%99/</link><pubDate>Tue, 11 Sep 2012 15:30:08 +0000</pubDate><guid>https://blog.heysh.xyz/2012/09/11/flask%E4%BC%BC%E4%B9%8E%E4%B8%8D%E9%94%99/</guid><description>&lt;p>首先接触的web框架是karrigell，也最后作出了点东西，感觉简单实用但是好像有点非主流。然后看到Django好像很流行，然后就在openshift上弄了一个，最终结果是只用到了statics目录。中间因为搭wordpress，曾经有一段学php的热情。后来……冷掉了。&lt;/p>
&lt;p>然后下一个目标是flask。&lt;/p>
&lt;p>不过没有内容，什么都白搭。&lt;/p></description></item><item><title>phpwind论坛刷分脚本（可用于openwrt）</title><link>https://blog.heysh.xyz/2012/09/11/phpwind%E8%AE%BA%E5%9D%9B%E5%88%B7%E5%88%86%E8%84%9A%E6%9C%AC%EF%BC%88%E5%8F%AF%E7%94%A8%E4%BA%8Eopenwrt%EF%BC%89/</link><pubDate>Tue, 11 Sep 2012 04:56:26 +0000</pubDate><guid>https://blog.heysh.xyz/2012/09/11/phpwind%E8%AE%BA%E5%9D%9B%E5%88%B7%E5%88%86%E8%84%9A%E6%9C%AC%EF%BC%88%E5%8F%AF%E7%94%A8%E4%BA%8Eopenwrt%EF%BC%89/</guid><description>&lt;p>用Python2写成，为什么不用Lua？因为我不会&lt;/p>
&lt;pre>&lt;code>'''
Created on 2012-9-10
@author: hh
'''
import cookielib
import urllib2
import urllib
import time
username=&amp;quot;Chetter.Hummin&amp;quot;
password=&amp;quot;password&amp;quot;
def login(usr, pwd):
'login function'
cj = cookielib.CookieJar()
opener = urllib2.build_opener(urllib2.HTTPCookieProcessor(cj))
opener.addheaders = [('User-agent','Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1')]
url_login = 'http://bbs.sarabalst.com/2b/login.php'
body={&amp;quot;step&amp;quot;:&amp;quot;2&amp;quot;,&amp;quot;pwuser&amp;quot;:usr,&amp;quot;cktime&amp;quot;:&amp;quot;31536000&amp;quot;,&amp;quot;pwpwd&amp;quot;:pwd,&amp;quot;lgt&amp;quot;:&amp;quot;0&amp;quot;}
print 'login to get cookies'
urllib2.install_opener(opener)
req = urllib2.Request(url_login,urllib.urlencode(body))
resp = urllib2.urlopen(req)
#print (resp.read())
if __name__ == '__main__':
login(username,password)
print &amp;quot;login success&amp;quot;
print (time.strftime('%Y-%m-%d %H:%M',time.localtime(time.time())))
for i in range(0,23):
try:
str=urllib2.urlopen(&amp;quot;http://bbs.sarabalst.com/2b/&amp;quot;,timeout=100).read()
#print &amp;quot;success&amp;quot;
except:
str=&amp;quot;&amp;quot;
#print &amp;quot;fail&amp;quot;
if str!=&amp;quot;&amp;quot;:
print str
print &amp;quot;refresh success&amp;quot;
else:
print &amp;quot;refresh fail&amp;quot;
print (time.strftime('%Y-%m-%d %H:%M',time.localtime(time.time())))
time.sleep(300);
&lt;/code>&lt;/pre>
&lt;p>在openwrt上测试成功。理论上可以加入crontab，现在还没测试（时间不够）&lt;br>
update :鉴于论坛和路由器双重不给力，给urllib2设了超时&lt;/p></description></item></channel></rss>