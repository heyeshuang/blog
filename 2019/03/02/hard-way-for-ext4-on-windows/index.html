<!doctype html><html lang=zh><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=generator content="Hugo 0.70.0"><title>震惊！为了在Windows上访问EXT4分区，他竟然做出了这样的事！ &#183; 贺叶霜的树：III</title><link rel=stylesheet href=//cdn.jsdelivr.net/npm/purecss@1.0.0/build/pure-min.css><!--[if lte IE 8]><link rel=stylesheet href=//cdn.jsdelivr.net/npm/purecss@1.0.0/build/grids-responsive-old-ie-min.css><![endif]--><!--[if gt IE 8]><!--><link rel=stylesheet href=//cdn.jsdelivr.net/npm/purecss@1.0.0/build/grids-responsive-min.css><!--<![endif]--><!--[if lte IE 8]><link rel=stylesheet href=https://blog.heysh.xyz/css/side-menu-old-ie.css><![endif]--><!--[if gt IE 8]><!--><link rel=stylesheet href=https://blog.heysh.xyz/css/side-menu.css><!--<![endif]--><link rel=stylesheet href=https://blog.heysh.xyz/css/blackburn.css><link rel=stylesheet href=//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css><link href=//cdn.jsdelivr.net/npm/raleway-webfont@3.0.1/raleway.min.css rel=stylesheet type=text/css><link rel=stylesheet href=//cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css integrity=sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y crossorigin=anonymous><script defer src=//cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.js integrity=sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx crossorigin=anonymous></script><script defer src=//cdn.jsdelivr.net/npm/katex@0.10.0/dist/contrib/auto-render.min.js integrity=sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe crossorigin=anonymous onload=renderMathInElement(document.body);></script><link rel="shortcut icon" href=https://blog.heysh.xyz/img/favicon.ico type=image/x-icon><link rel=stylesheet href=https://blog.heysh.xyz/css/typo.css><link rel=stylesheet href=https://blog.heysh.xyz/css/custom.css></head><body><div id=layout><a href=#menu id=menuLink class=menu-link><i class="fa fa-bars"></i></a><div id=menu><a class="pure-menu-heading brand" href=/>Rei III</a><div class=pure-menu><ul class=pure-menu-list><li class=pure-menu-item><a class=pure-menu-link href=/post/><i class="fa fa-list fa-fw"></i>Posts</a></li><li class=pure-menu-item><a class=pure-menu-link href=/categories/><i class="fa fa-folder fa-fw"></i>Categories</a></li><li class=pure-menu-item><a class=pure-menu-link href=/tags/><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class=pure-menu-item><a class=pure-menu-link href=/about/><i class="fa fa-user fa-fw"></i>About</a></li><li class=pure-menu-item><a class=pure-menu-link href=/wallet/><i class="fa fa-money fa-fw"></i>Begging</a></li><li class=pure-menu-item><a class=pure-menu-link href=https://heysh.xyz/><i class="fa fa-pagelines fa-fw"></i>Bud</a></li><li class=pure-menu-item><a class=pure-menu-link href=/sentences/><i class="fa fa-video-camera fa-fw"></i>Theatre</a></li></ul></div><div class="pure-menu social"><ul class=pure-menu-list><li class=pure-menu-item><a class=pure-menu-link href=https://twitter.com/heyeshuang rel=me target=_blank><i class="fa fa-twitter-square fa-fw"></i>Twitter</a></li><li class=pure-menu-item><a class=pure-menu-link href=https://github.com/heyeshuang rel=me target=_blank><i class="fa fa-github-square fa-fw"></i>GitHub</a></li></ul></div><div><div class=small-print><small>&copy;<a href=https://creativecommons.org/licenses/by-sa/4.0/deed.zh>CC BY-SA</a></small></div><div class=small-print><small>Built with&nbsp;<a href=https://gohugo.io/ target=_blank>Hugo</a></small>
<small>Theme&nbsp;<a href=https://github.com/yoshiharuyamashita/blackburn target=_blank>Blackburn</a></small></div></div></div><div id=main><div class=header><h1>震惊！为了在Windows上访问EXT4分区，他竟然做出了这样的事！</h1><h2></h2></div><div class=content><div class=post-meta><div><i class="fa fa-calendar fa-fw"></i><time>2019-03-02 23:19</time></div><div><i class="fa fa-tags fa-fw"></i><a class=post-taxonomy-tag href=https://blog.heysh.xyz/tags/linux>linux</a>&nbsp;/
<a class=post-taxonomy-tag href=https://blog.heysh.xyz/tags/windows>windows</a>&nbsp;/
<a class=post-taxonomy-tag href=https://blog.heysh.xyz/tags/ext4>ext4</a></div></div><p>呃……原谅这次的标题党，但我觉得这次自己的操作实在是太蠢了。</p><p>事情是这样的，作为一个半吊子，我的电脑上同时有Windows 10和Manjaro Linux两个操作系统，也就有了从Windows上访问Ext4分区的要求。大约在一年之前，这个要求可以用<a href=https://www.ext2fsd.com/>Ext2fsd</a>来满足，可是一年过去，它已经无法识别新的Ext4版本了。</p><p>于是，我……我做了一个linux虚拟机来帮我读这个分区。</p><p>具体来说，VirtualBox支持将单独的分区视为虚拟磁盘<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup><sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>。你需要在 <strong>具有管理员权限</strong> 的命令提示符中运行：</p><div class=highlight><pre style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>VBoxManage internalcommands createrawvmdk -filename &#34;C:\Users\&lt;user_name&gt;\VirtualBox VMs\&lt;VM_folder_name&gt;\&lt;file_name&gt;.vmdk&#34; -rawdisk \\.\PhysicalDrive0 -partitions 1,5 -relative
</code></pre></div><p>这个程序大概在VirtualBox的安装目录下，磁盘号和windows的“磁盘管理”程序一致，分区号可以用下面的命令获得。</p><div class=highlight><pre style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>VBoxManage internalcommands listpartitions -rawdisk \\.\PhysicalDrive0
</code></pre></div><p>之后，</p><ul><li>同样是用 <strong>管理员权限</strong> 运行VirtualBox</li><li>把网卡模式改为桥接</li><li>挂载刚才生成的VMDK文件</li><li><strong>在另一个虚拟磁盘上</strong> 安装Linux（这里我用的是Alpine Linux Extended）</li><li>设置Samba<sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup></li></ul><p>就可以在宿主机上用网络硬盘访问Ext4分区了。</p><p>而且能够收获一次反思：我为什么要浪费宝贵的时间干这个？</p><section class=footnotes role=doc-endnotes><hr><ol><li id=fn:1 role=doc-endnote><p><a href=https://www.virtualbox.org/manual/ch09.html#rawdisk>https://www.virtualbox.org/manual/ch09.html#rawdisk</a> <a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2 role=doc-endnote><p><a href=https://www.serverwatch.com/server-tutorials/using-a-physical-hard-drive-with-a-virtualbox-vm.html>https://www.serverwatch.com/server-tutorials/using-a-physical-hard-drive-with-a-virtualbox-vm.html</a> <a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3 role=doc-endnote><p><a href=https://wiki.alpinelinux.org/wiki/Setting_up_a_samba-server>https://wiki.alpinelinux.org/wiki/Setting_up_a_samba-server</a> <a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></section><div class="prev-next-post pure-g"><div class=pure-u-1-24 style=text-align:left><a href=https://blog.heysh.xyz/2019/01/27/summary-2018/><i class="fa fa-chevron-left"></i></a></div><div class=pure-u-10-24><nav class=prev><a href=https://blog.heysh.xyz/2019/01/27/summary-2018/>我的2018</a></nav></div><div class=pure-u-2-24>&nbsp;</div><div class=pure-u-10-24><nav class=next><a href=https://blog.heysh.xyz/2019/06/02/a-script/>一本厕纸小说</a></nav></div><div class=pure-u-1-24 style=text-align:right><a href=https://blog.heysh.xyz/2019/06/02/a-script/><i class="fa fa-chevron-right"></i></a></div></div><link rel=stylesheet href=https://blog.heysh.xyz/css/iDisqus.min.css><div id=comment></div><script src=https://blog.heysh.xyz/js/iDisqus.min.js></script><script>var disq=new iDisqus('comment',{forum:'heysh',api:'https:\/\/disqus-php.yeshuanghe.now.sh\/api',site:'https:\/\/blog.heysh.xyz',mode:1,timeout:3000,init:true});</script></div></div></div><script src=https://blog.heysh.xyz/js/ui.js></script><script src=https://blog.heysh.xyz/js/menus.js></script><script>if(window.location.hostname!="localhost"){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-40522664-1','auto');ga('send','pageview');}</script><script>(function(u,c){var d=document,t='script',o=d.createElement(t),s=d.getElementsByTagName(t)[0];o.src=u;if(c){o.addEventListener('load',function(e){c(e);});}
s.parentNode.insertBefore(o,s);})('//cdn.jsdelivr.net/npm/pangu@3.3.0/dist/browser/pangu.min.js',function(){pangu.spacingPage();});</script></body></html>